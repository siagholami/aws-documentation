SVL_MULTI_STATEMENT_VIOLATIONS
Use the SVL_MULTI_STATEMENT_VIOLATIONS view to get a complete record of all of the SQL commands run on the system that violates transaction block restrictions.
Violations occur when you run any of the following SQL commands that Amazon Redshift restricts inside a transaction block or multi-statement requests:
 CREATE DATABASE
 DROP DATABASE
 ALTER TABLE APPEND
 CREATE EXTERNAL TABLE
 DROP EXTERNAL TABLE
 RENAME EXTERNAL TABLE
 ALTER EXTERNAL TABLE
 CREATE TABLESPACE
 DROP TABLESPACE
 CREATE LIBRARY
 DROP LIBRARY
 REBUILDCAT
 INDEXCAT
 REINDEX DATABASE
 VACUUM
 GRANT
 COPY
Note
If there are any entries in this view, then change your corresponding applications and SQL scripts. We recommend changing your application code to move the use of these restricted SQL commands outside of the transaction block. If you need further assistance, contact AWS Support.
SVL_MULTI_STATEMENT_VIOLATIONS is visible to all users. Superusers can see all rows; regular users can see only their own data. For more information, see Visibility of data in system tables and views.
Table columns
[See the AWS documentation website for more details]
Sample query
The following query returns multiple statements that have violations.
```
select * from svl_multi_statement_violations order by starttime asc;
userid | database | cmdname | xid | pid | label | starttime | endtime | sequence | type | text
1 | dev | CREATE DATABASE | 1034 | 5729 |label1 | * | ** | 0 | DDL | create table c(b int);
1 | dev | CREATE DATABASE | 1034 | 5729 |label1 | ** | * | 0 | UTILITY | create database b;
1 | dev | CREATE DATABASE | 1034 | 5729 |label1 | * | * | 0 | UTILITY | COMMIT
...
```