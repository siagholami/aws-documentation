Amazon Elastic Compute Cloud User Guide for Windows Instances

*Copyright © 2020 Amazon Web Services, Inc. and/or its affiliates. All rights reserved.***

Amazon's trademarks and trade dress may not be used in 
     connection with any product or service that is not Amazon's, 
     in any manner that is likely to cause confusion among customers, 
     or in any manner that disparages or discredits Amazon. All other 
     trademarks not owned by Amazon are the property of their respective
     owners, who may or may not be affiliated with, connected to, or 
     sponsored by Amazon.

Contents

What is Amazon EC2?
Amazon EC2 basic infrastructure for Windows
Setting up with Amazon EC2
Tutorial: Getting started with Amazon EC2 Windows instances
Best practices for Windows on Amazon EC2
Amazon Machine Images (AMI)
Managed AWS Windows AMIs
Details about AWS Windows AMI versions
Amazon EC2 Windows Server AMIs for STIG compliance


Finding a Windows AMI
Shared AMIs
Finding shared AMIs
Making an AMI public
Sharing an AMI with specific AWS accounts
Using bookmarks
Guidelines for shared Windows AMIs


Paid AMIs
Create a custom Windows AMI
How the creation of a custom AMI works
Create a Windows AMI from a running instance
Use Sysprep to create a standard Amazon Machine Image


Using encryption with EBS-backed AMIs
Copying an AMI
Obtaining billing information
Deregistering your Windows AMI
Amazon EC2 instances
Instance types
General purpose instances
Burstable performance instances
CPU credits and baseline utilization for burstable performance instances
Unlimited mode for burstable performance instances
Unlimited mode concepts
Unlimited mode examples
Standard mode for burstable performance instances
Standard mode concepts
Standard mode examples
Working with burstable performance instances
Monitoring your CPU credits




Compute optimized instances
Memory optimized instances
Storage optimized instances
Windows accelerated computing instances
Installing NVIDIA drivers on Windows instances
Activate NVIDIA GRID Virtual Applications
Optimizing GPU settings


Finding an Amazon EC2 instance type
Changing the instance type
Getting recommendations for an instance type


Instance purchasing options
On-Demand Instances
Reserved Instances
Regional and zonal Reserved Instances (scope)
Types of Reserved Instances (offering classes)
How Reserved Instances are applied
How you are billed
Buying Reserved Instances
Reserved Instance Marketplace
Modifying Reserved Instances
Exchanging Convertible Reserved Instances


Scheduled Reserved Instances
Spot Instances
Best practices for EC2 Spot
How Spot Instances work
How Spot Fleet works
Spot Instance pricing history
Savings from purchasing Spot Instances
Spot Instance requests
Spot Instance request example launch specifications


Spot Fleet requests
Spot Fleet example configurations


CloudWatch metrics for Spot Fleet
Automatic scaling for Spot Fleet
Scale Spot Fleet using a target tracking policy
Scale Spot Fleet using step scaling policies
Scale Spot Fleet using scheduled scaling


Spot request status
Spot Instance interruptions
Spot Instance data feed
Spot Instance considerations


Dedicated Hosts
Working with Dedicated Hosts
Working with shared Dedicated Hosts
Host recovery
Tracking configuration changes


Dedicated Instances
On-Demand Capacity Reservations
Capacity Reservation pricing and billing
Working with Capacity Reservations
Working with shared Capacity Reservations
CloudWatch metrics for On-Demand Capacity Reservations




Instance lifecycle
Launch your instance
Launching an instance using the Launch Instance Wizard
Launching an instance from a launch template
Launching an instance using parameters from an existing instance
Launching an AWS Marketplace instance
Launching instances using an EC2 Fleet
EC2 Fleet configuration strategies
Managing an EC2 Fleet
EC2 Fleet example configurations




Connecting to your Windows instance
Stop and start your instance
Hibernate your Windows instance
Reboot your instance
Instance retirement
Terminate your instance
Recover your instance


Configuring your Windows instance
Configuring a Windows instance using EC2Launch v2
EC2Launch v2 overview
Install the latest version of EC2Launch v2
Migrate to EC2Launch v2
Stop, restart, delete, or uninstall EC2Launch v2
Verify the EC2Launch v2 version
Subscribe to EC2Launch v2 service notifications
EC2Launch v2 settings
Troubleshooting EC2Launch v2
EC2Launch v2 version histories


Configuring a Windows instance using EC2Launch
Installing the latest version of EC2Launch
EC2Launch version history


Configuring a Windows Instance Using the EC2Config Service
Installing the Latest Version of EC2Config
EC2Config Version History
Troubleshooting Issues with the EC2Config Service


Paravirtual Drivers for Windows Instances
Upgrading PV Drivers on Your Windows Instances
Troubleshooting PV Drivers


AWS NVMe drivers for Windows instances
Optimizing CPU options
Setting the time for a Windows instance
Setting the password for a Windows instance
Adding Windows components Using installation media
Configuring a secondary private IPv4 address for your Windows instance
Running commands on your Windows instance at launch
Instance metadata and user data
Configuring the instance metadata service
Retrieving instance metadata
Working with instance user data
Retrieving dynamic data
Instance metadata categories
Instance identity documents
Using the PKCS7 signature to verify the instance identity document
Using the base64-encoded signature to verify the instance identity document
Using the RSA-2048 signature to verify the instance identity document




Best Practices and Recommendations for SQL Server Clustering in EC2


Upgrading an Amazon EC2 Windows instance to a newer version of Windows Server
Performing an in-place upgrade
Performing an automated upgrade
Migrating to latest generation instance types
Windows to Linux replatforming assistant for Microsoft SQL Server Databases
Setting up
Getting started


Troubleshooting an upgrade


Identify EC2 Windows instances
Amazon Elastic Graphics
Working with Elastic Graphics
Using CloudWatch metrics to monitor Elastic Graphics
Troubleshooting
Monitoring Amazon EC2
Automated and manual monitoring
Best practices for monitoring
Monitoring the status of your instances
Status checks for your instances
Scheduled events for your instances


Monitoring your instances using CloudWatch
Enable or disable detailed monitoring for your instances
List the available CloudWatch metrics for your instances
Get statistics for metrics for your instances
Get statistics for a specific instance
Aggregate statistics across instances
Aggregate statistics by Auto Scaling group
Aggregate statistics by AMI


Graph metrics for your instances
Create a CloudWatch alarm for an instance
Create alarms that stop, terminate, reboot, or recover an instance


Automating Amazon EC2 with CloudWatch Events
Logging Amazon EC2 and Amazon EBS API calls with AWS CloudTrail
Monitor your .NET and SQL Server applications with CloudWatch Application Insights
Networking in Amazon EC2
Amazon EC2 instance IP addressing
Multiple IP addresses


Bring your own IP addresses (BYOIP) in Amazon EC2
Elastic IP addresses
Elastic network interfaces
Requester-managed network interfaces


Enhanced networking on Windows
Enabling enhanced networking with the Elastic Network Adapter (ENA) on Windows instances
Operating system optimizations


Enabling enhanced networking with the Intel 82599 VF interface on Windows instances


Placement groups
Network maximum transmission unit (MTU) for your EC2 instance
Virtual private clouds
Ports and Protocols for Windows Amazon Machine Images (AMIs)
EC2-Classic
ClassicLink
Migrating from EC2-Classic to a VPC


Security in Amazon EC2
Infrastructure security in Amazon EC2
Amazon EC2 and interface VPC endpoints
Resilience in Amazon EC2
Data protection in Amazon EC2
Identity and access management for Amazon EC2
IAM policies for Amazon EC2
Policy structure
Granting permission to tag resources during creation
Controlling access to EC2 resources using resource tags
Example policies for working with the AWS CLI or an AWS SDK
Example policies for working in the Amazon EC2 console


IAM roles for Amazon EC2
Authorizing inbound traffic for your Windows instances


Amazon EC2 key pairs and Windows instances
Amazon EC2 security groups for Windows instances
Working with security groups
Security group rules reference


Configuration management in Amazon EC2
Update management in Amazon EC2
Change management in Amazon EC2
Compliance validation for Amazon EC2
Audit and accountability in Amazon EC2
Storage
Amazon Elastic Block Store (Amazon EBS)
Amazon EBS volumes
Amazon EBS volume types
Constraints on the size and configuration of an EBS volume
Creating an Amazon EBS volume
Attaching an Amazon EBS volume to an instance
Making an Amazon EBS volume available for use on Windows
Viewing information about an Amazon EBS volume
Replacing an Amazon EBS volume using a previous snapshot
Monitoring the status of your volumes
Detaching an Amazon EBS volume from a Windows instance
Deleting an Amazon EBS volume


Amazon EBS snapshots
Creating Amazon EBS snapshots
Creating a VSS Application-Consistent Snapshot
Before You Begin
Getting Started
Creating a VSS Application-Consistent Snapshot Using the AWS CLI, AWS Tools for Windows PowerShell, or the AWSEC2-ManageVssIO SSM Document
Restoring Volumes from VSS-Enabled EBS snapshots
AWS VSS component package version history


Deleting an Amazon EBS snapshot
Copying an Amazon EBS snapshot
Viewing Amazon EBS snapshot information
Sharing an Amazon EBS snapshot
Accessing the contents of an EBS snapshot
Logging API Calls for the EBS direct APIs with AWS CloudTrail
Idempotency for StartSnapshot API


Automating the Amazon EBS snapshot lifecycle


Amazon EBS data services
Amazon EBS Elastic Volumes
Requirements when modifying volumes
Requesting modifications to your EBS Volumes
Monitoring the progress of volume modifications
Extending a Windows file system after resizing a volume


Amazon EBS encryption
Amazon EBS fast snapshot restore


Amazon EBS and NVMe on Windows instances
Amazon EBS–optimized instances
Amazon EBS volume performance on Windows instances
I/O characteristics and monitoring
Initializing Amazon EBS volumes
RAID Configuration on Windows
Benchmark EBS volumes


Amazon CloudWatch metrics for Amazon EBS
Amazon CloudWatch Events for Amazon EBS


Amazon EC2 instance store
Add instance store volumes to your EC2 instance
SSD instance store volumes


File storage
Using Amazon S3 with Amazon EC2
Using Amazon EFS with Amazon EC2
Using Amazon FSx for Windows File Server with Amazon EC2


Instance volume limits
Device naming on Windows instances
Block device mapping
Mapping disks to volumes on your Windows instance
Tutorial: Deploy Storage Spaces Direct (S2D) on Amazon EC2
Resources and tags
Resource locations
Resource IDs
Listing and filtering your resources
Tagging your Amazon EC2 resources
Amazon EC2 service quotas
Amazon EC2 usage reports
Tutorials for Amazon EC2 instances running Windows Server
Tutorial: Deploying a WordPress blog on your Amazon EC2 instance running Windows Server
Tutorial: Installing a WAMP Server on an Amazon EC2 Instance Running Windows Server
Tutorial: Installing a WIMP server on an Amazon EC2 instance running Windows Server
Tutorial: Increase the availability of your application on Amazon EC2
Tutorial: Setting Up a Windows HPC Cluster on Amazon EC2
Troubleshooting EC2 Windows instances
Troubleshooting instance launch issues
Troubleshooting connecting to your Windows instance
Troubleshoot an unreachable instance
Resetting a lost or expired Windows administrator password
Resetting the Windows administrator password using EC2Config
Resetting the Windows administrator password using EC2Launch


Troubleshooting stopping your instance
Troubleshooting terminating (shutting down) your instance
Troubleshooting Sysprep
Using EC2Rescue for Windows Server
Using EC2Rescue for Windows Server GUI
Using EC2Rescue for Windows Server with the command line
Using EC2Rescue for Windows Server with Systems Manager Run Command


Sending a diagnostic interrupt (for advanced users)
Common issues with Windows instances
Common messages troubleshooting Windows instances
AWS Systems Manager for Microsoft System Center VMM
Setting Up AWS Systems Manager for Microsoft SCVMM
Managing EC2 Instances Using AWS Systems Manager for Microsoft SCVMM
Importing Your Virtual Machine Using AWS Systems Manager for Microsoft SCVMM
Troubleshooting AWS Systems Manager for Microsoft SCVMM
AWS Management Pack for Microsoft System Center
Downloading the AWS Management Pack
Deploying the AWS Management Pack
Step 1: Installing the AWS Management Pack
Step 2: Configuring the Watcher Node
Step 3: Create an AWS Run As Account
Step 4: Run the Add Monitoring Wizard
Step 5: Configure Ports and Endpoints


Using the AWS Management Pack
Upgrading the AWS Management Pack
Uninstalling the AWS Management Pack
Troubleshooting the AWS Management Pack
Document history
