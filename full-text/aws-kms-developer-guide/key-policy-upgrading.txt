Keeping key policies up to date
When you use the AWS Management Console to create a customer master key (CMK), you can choose the IAM users, IAM roles, and AWS accounts that you want to have access to the CMK. These users, roles, and accounts are added to a default key policy that controls access to the CMK. Occasionally, the default key policy for new CMKs is updated. Typically, these updates correspond to new AWS KMS features.
When you create a new CMK, the latest version of the default key policy is added to the CMK. However, existing CMKs continue to use their existing key policyâ€”that is, new versions of the default key policy are not automatically applied to existing CMKs. Instead, the console alerts you that a newer version is available and prompts you to upgrade it.
Note
The console alerts you only when you are using the default key policy that was applied when you created the CMK. If you manually modified the key policy document using the console's policy view or the PutKeyPolicy operation, the console does not alert you when new permissions are available.
For information about the permissions that are added to a key policy when you upgrade it, see Changes to the default key policy. Upgrading to the latest version of the key policy should not cause problems because it only adds permissions; it doesn't remove any. We recommend keeping your key policies up to date unless you have a specific reason not to.
Determining whether a newer version of the default key policy is available
You can use the AWS Management Console to learn whether a newer version of the default key policy is available.


Sign in to the AWS Management Console and open the AWS Key Management Service (AWS KMS) console at https://console.aws.amazon.com/kms.


To change the AWS Region, use the Region selector in the upper-right corner of the page.


In the navigation pane, choose Customer managed keys.


Choose the alias or key ID of a CMK that uses the default key policy.


Scroll down to the Key policy section of the page.


When a newer version of the default key policy is available, the console displays the following alert.
A newer version of the default key policy is available. Preview and upgrade to the new key policy.
Upgrading to the latest version of the default key policy
When a new default key policy is available, the following alert is displayed in the Key Policy section of the console page.
A newer version of the default key policy is available. Preview and upgrade to the new key policy.
To upgrade to the latest version of the default key policy


If you see an alert announcing a newer version of the default key policy, choose Preview and upgrade to the new key policy.


Review the key policy document for the latest version of the default key policy. For more information about the difference between the latest version and previous versions, see Changes to the default key policy. After reviewing the key policy, choose Upgrade key policy.


Changes to the default key policy
In the current version of the default key policy, the key administrators statement contains more permissions than those in previous versions. These additional permissions correspond to new AWS KMS features.
CMKs that use an earlier version of the default key policy might be missing the following permissions. When you upgrade to the latest version of the default key policy, they're added to the key administrators statement.
kms:TagResource and kms:UntagResource
These permissions allow key administrators to add, update, and remove tags from the CMK. They were added to the default key policy when AWS KMS released the tagging feature.
kms:ScheduleKeyDeletion and kms:CancelKeyDeletion
These permissions allow key administrators to schedule and cancel deletion for the CMK. They were added to the default key policy when AWS KMS released the CMK deletion feature.
The kms:ScheduleKeyDeletion and kms:CancelKeyDeletion permissions are included by default when you create a CMK and when you upgrade to the latest version of the default key policy. However, you can optionally remove them from the default key policy when you create a CMK by clearing the box for Allow key administrators to delete this key. In the same way, you can use the key details page to remove them from the default key policy for existing CMKs. That includes CMKs whose key policy you upgraded to the latest version.