Step 4: Run Simulation
In this section, you bundle the robot application and simulation application into source files. A source file includes all of the dependencies you need to run the application. You use a robot application source file and a simulation application source file to create a simulation job. You use a robot application source file to create a deployment.
Topics
 Bundle the Hello World Applications
 Restart the Hello World Simulation Application
 Explore the Simulation
Bundle the Hello World Applications
In the previous step, you built the robot and simulation applications. In this step, you bundle each application with the resources and dependencies you need to run. For example, the simulation application needs a model and physical parameters of the TurtleBot3.
Warning
Bundling the robot application and simulation application might each take 20 minutes or more depending on your instance type.
To bundle the Hello World applications


In the HelloWorld AWS Cloud9 development environment, choose Run on the menu, then choose Bundle, and then select HelloWorld Robot. 


On the menu, choose Run, then choose Bundle, and then select HelloWorld Simulation. 


Restart the Hello World Simulation Application
A running simulation can be restarted with updated robot application and simulation application source. This is useful when you are debugging code and making frequent changes.
When you restart a simulation, its timer is reset to zero. It will run for the original duration until reset or canceled. For Hello World, the duration is 1 hour.


On the menu, choose Simulation, then select Connect. Select the simulation job from the list and then select Okay. Restart this running Hello World simulation with your new robot application.


Choose AWS RoboMaker Simulation, and select Restart with new bundle(s). In the Restart simulation with selected bundles dialog, type in HelloWorld/robot_ws/bundle/output.tar for Robot app bundle path and HelloWorld/simulation_ws/bundle/output.tar for Simulation app bundle path, then select OK.


AWS RoboMaker restarts the simulation with the new applications. This extends the lifetime of the simulation for another 1 hour.
Explore the Simulation
When the simulation is running, you can launch Gazebo and verify that the robot is rotating counter-clockwise. You can also view the logs in the AWS Cloud9 development environment terminal.


The status of the simulation job is shown next to the Simulation menu entry. When it transitions to Running, you can launch applications and explore the simulation.


In the AWS RoboMaker console, choose Simulation jobs on the left and then select the Hello World simulation job.


In the Simulation details screen, in the Simulation tools section, select Gazebo.


In Gazebo, zoom in on the robot. It is rotating in place.


Log data is streamed to CloudWatch Logs and to tabs on the AWS Cloud9 development environment.


To view CloudWatch Logs, select Logs in the Simulation details screen. 

Output files generated by the simulation job are available in the simulation job output destination. Select the link to access the Amazon S3 bucket.

Next Step
Step 5: Deploy Robot Application