Configure subscriptions
In this step, you create a subscription that enables the GG_TrafficLight shadow to send updated state information to the GG_Car_Aggregator Lambda function. This subscription is added to the subscriptions that you created in Module 5, which are all required for this module.


On the group configuration page, choose Subscriptions, and then choose Add Subscription.


On the Select your source and target page, set the following values:
    For Select a source, choose Services, and then choose Local Shadow Service.
    For Select a target, choose Lambdas, and then choose GG_Car_Aggregator.


Choose Next.


On the Filter your data with a topic page, for Topic filter, enter the following topic:

$aws/things/GG_TrafficLight/shadow/update/documents


Choose Next, and then choose Finish.

This module requires the new subscription and the subscriptions that you created in Module 5.


Make sure that the Greengrass daemon is running, as described in Deploy cloud configurations to a core device.


On the group configuration page, from Actions, choose Deploy.



This deploys the group configuration to your AWS IoT Greengrass core device. For troubleshooting help, see Troubleshooting AWS IoT Greengrass.