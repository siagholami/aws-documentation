Local Environment Lighting

This topic references tools and features that are legacy. If you want to use legacy tools in Lumberyard Editor, disable the CryEntity Removal gem using the Project Configurator or the command line. To learn more about legacy features, see the Lumberyard Legacy Reference.
Lumberyard uses local environment probes and their generated cubemaps to implement local lighting. The purpose of local cubemaps is to light smaller areas more accurately. This ensures that all areas in your level have accurate lighting effects that may not be covered by the global cubemap. Lumberyard automatically gives a local probe higher priority within its defined radius and superimposes its effects on those of the global probe. For more information about global probes, see Global Environment Lighting.
When placing environment probes in a level, pay attention to how probes are layered and sorted going from global to local probes.
To generate a local cubemap


In the Rollup Bar, under Objects, click Misc, EnvironmentProbe.


Click to place in the probe in your level.


Under EnvironmentProbe Params , leave the cubemap_resolution at 256, the default. This is the optimal resolution for performance.


Select the preview_cubemap check box to see the cubemap in your level.


Under EnvironmentProbe Params and under EnvironmentProbe Properties, adjust property values for the desired effect. For more information about these properties, see the table in Global Environment Lighting.


Click Generate Cubemap. 


Lumberyard creates three textures in textures\cubemaps\your_levelâ€” one for the diffuse map, one for the specular map, and one for the source .tif file. 


To check your cubemap for accuracy, create and then place a smooth, reflective sphere entity near the probe. If its surface looks different from the environment around it, you need to regenerate the cubemap.


Click Generate Cubemap again. This incorporates object reflections from the originally generated cubemap for added realism.


To hide the sphere entity in your level, select its HiddenInGame check box, found under Entity Params in the Rollup Bar.

