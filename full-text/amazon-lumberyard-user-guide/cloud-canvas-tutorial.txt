Tutorial: Getting Started with Cloud Canvas
Cloud Canvas connects Lumberyard with Amazon Web Services (AWS) and uses cloud gems to enable connected features in your game. This tutorial shows you how to deploy the resources for a cloud gem enabled project to AWS and guides you through the following tasks:
 Signing up for an AWS account.
 Creating an AWS Identity and Access Management (IAM) user to administer your Cloud Canvas project.
 Enabling cloud gems in your project.
 Adding your IAM administrative credentials to Lumberyard.
 Uploading resources to AWS and creating a deployment.
 Accessing the Cloud Gem Portal to view and manage your deployed cloud gems.
Optionally, you can also learn how to inspect your resources in AWS, create IAM users and groups for administrative purposes, and remove Cloud Canvas deployments and resources from AWS.
Prerequisites
Before starting this tutorial, complete the following:
 Install and set up Lumberyard.
 Read Implementing Connected Features with Cloud Canvas.
Step 1: Sign up for AWS
When you sign up for AWS, you can access all its cloud capabilities. Cloud Canvas creates resources in your AWS account to make these services accessible through Lumberyard. You are charged only for the services that you use. If you are a new AWS customer, you can get started with Cloud Canvas for free. For more information, see AWS Free Tier.
If you or your team already have an AWS account, skip to Step 2. 
If you do not have an AWS account, complete the following steps to create one.
To sign up for an AWS account


Open https://portal.aws.amazon.com/billing/signup.


Follow the online instructions.


Part of the sign-up procedure involves receiving a phone call and entering a verification code on the phone keypad.
Note
You must provide a payment method in order to create your account. Although the tutorials here fall within the AWS Free Tier, be aware that you can incur costs.
Make a note of your AWS account number, which you will use in the next step.
Step 2: Create an IAM User to Administer the Cloud Canvas Project
After you sign up for an AWS account, you need an IAM user with appropriate permissions to administer a Cloud Canvas project. IAM allows you to manage access to your AWS account.
AWS requires that you provide credentials to verify that you have the appropriate permissions for the AWS services that you access. You enter these credentials into Lumberyard Editor as part of setting up your project.
The IAM user that you create will belong to a group that has administrator permissions. This allows users in this group to create the Cloud Canvas resources and make them accessible through Lumberyard. Administrative users in this group will have special permissions beyond the scope of a normal Cloud Canvas user.
In a team environment, you—as a member of the administrator's group—can create IAM users for each member of your team. With IAM, you can set permissions specifically for each person’s role in a project. For example, you might specify that only designers can edit a database, or prevent team members from accidentally writing to resources with which your players interact.
For more information on IAM and permissions, see the IAM User Guide.
Create an IAM User and an Administrator Group
This section guides you through IAM best practices by creating an IAM user and an administrator group in your account to which the IAM user belongs.
To create an IAM user and group in your account


Sign in to the AWS Management Console and open the IAM console at https://console.aws.amazon.com/iam/.


In the navigation pane, click Users.


Click Add user.


For User name, enter a user name like CloudCanvasAdmin. The name can contain letters, digits, and the following characters: plus (), equal (=), comma (,), period (.), at (@), underscore (-), and hyphen (-). The name is not case sensitive and can be a maximum of 64 characters.


Select the check box next to Programmatic access.


Select the check box next to AWS Management Console access, select Custom password, and then enter a new password in the text box.
Note
When you create a user for someone else, you can select Require password reset so that the user must create a new password when the user first signs in. 


Click Next: Permissions. 


Click Create group.


In the Create group dialog box, enter a name like CloudCanvasAdministrators for the group. The name can contain letters, digits, and the following characters: plus (), equal (=), comma (,), period (.), at (@), underscore (-), and hyphen (-). The name is not case sensitive and can be a maximum of 128 characters.


In the Policy name list, select the check box next to AdministratorAccess. This policy provides the necessary permissions to create and administer a Cloud Canvas project. 
Warning
The AdministratorAccess policy allows almost all permissions within the AWS account and should be attached only to the administrator of the account. Otherwise, other team members can perform actions that incur unwanted charges in your AWS account.


Click Create group.


In the list of groups, select the check box for your new group if it is not already selected. If necessary, click Refresh to see the group in the list.


Click Next: Review to review your choices. 


When you are ready to proceed, click Create user.


Your IAM user is created along with two important credentials: an access key and a secret access key. Later, you enter these credentials into Lumberyard Editor to access the AWS resources in your project.

Click Show to view your secret access key and password, or click Download .csv to download the credentials in a .csv file. Your credentials will look something like this:
    Access key ID: AKIAIOSFODNN7EXAMPLE
    Secret access key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

You can also click Send email to receive login instructions by email. After this point, you cannot view the secret access key from the AWS Management Console.
Important
Keep the keys confidential in order to protect your AWS account, and never email them. Do not share them outside your organization, even if an inquiry appears to come from AWS or Amazon.com. No one who legitimately represents Amazon will ever ask you for your secret key.

You have now created an IAM user called CloudCanvasAdmin and a CloudCanvasAdministrators administrator group to which the user belongs. To confirm this, click Groups in the navigation pane. Under Group Name, click CloudCanvasAdministrators. The CloudCanvasAdmin user appears in the list of users for the group.

Note
In this tutorial, you add only one IAM user to the administrator group, but you can add more if required.
If you lose your secret access key, you must create a new set of keys.
To create a new set of keys


Open the IAM console at https://console.aws.amazon.com/iam/.


In the left navigation pane, click Users.


In the User name list, click the user name for which you want to generate new access keys. 


On the Summary page, click the Security credentials tab. 


In the Access keys section, click Create access key. 


Step 3: Enable One or More Cloud Gems in Your Project
Cloud Canvas functionality is enabled in Lumberyard through gems and cloud gems. Gems are extensions that share code and assets among Lumberyard projects. Cloud gems are gems that use the power of AWS to provide connected features. To enable gems and cloud gems in your project, you use the Project Configurator. 
This tutorial uses the Lumberyard CloudGemSamples project, which includes many of the cloud gems that come with Lumberyard. 
To enable the CloudGemSamples project


Open the Lumberyard Project Configurator, located at lumberyard-version\dev\Bin64BuildPlatform\ProjectConfigurator.exe. For example, when using Visual Studio 2017 as your build platform, the Project Configurator is located at lumberyard-version\dev\Bin64vc141\ProjectConfigurator.exe. 


Click CloudGemSamples.


In the upper-right corner of the Project Configurator, click Set as default.


Close the Project Configurator. 


Step 4: Add Administrator Credentials to Lumberyard
In order to begin managing a Cloud Canvas project, you add the IAM user credentials that you generated earlier to a profile that Cloud Canvas can easily reference. To do this, you can use either Lumberyard Editor or a command line prompt.
To enter your credentials in Lumberyard Editor


Use one of the following methods to launch Lumberyard Editor:
    From the desktop, double-click the Lumberyard Editor icon.  
    From Lumberyard Setup Assistant, on the Summary page, click Launch Editor.
    For Visual Studio 2017, navigate to the lumberyard-version\dev\Bin64vc141 directory and double-click Editor.exe.


In Lumberyard Editor, choose AWS, Credentials manager. 



In the Credentials Manager dialog, click Add profile.



In the Add profile dialog box, enter the following information:
    For Profile name, enter a name of your choice (for example, CloudCanvasAdmin).
    For AWS access key and AWS secret key, enter the access key and secret key.

Important
Do not share these credentials with anyone, and do not check them into source control. These credentials grant control over your AWS account, and a malicious user could incur charges.


Click Save.


In Credentials Manager, click OK.



You have now created a profile to administer a Cloud Canvas project. The profile name is associated with your credentials, and saved locally on your machine in your AWS credentials file. This file is normally located in your C:\Users\user_name\.aws\ directory. As a convenience, other tools such as the AWS Command Line Interface or the AWS Toolkit for Visual Studio can access these credentials. 
Step 5: Upload Resources to AWS and Create a Deployment
You are now ready for the resources defined by your project to be created in AWS.
This is a two-part process:


Creating a project stack in AWS that contains the resources that your cloud gems require.


Creating a deployment. A deployment is a separate, independent copy of your project's AWS resources for a dedicated purpose (for example, development, testing, or production).


To upload resources to AWS


In Lumberyard Editor, choose AWS, Cloud Canvas, Resource Manager. 


In Resource Manager, click Upload all resources.



In the Initialize Resource Manager dialog box, click Yes.



In the Initialize Cloud Canvas Resource Manager dialog box, review the fields provided.

    Project stack name – This name defaults to the name of your project. You can provide a different name if you want.
    AWS profile – This is the profile that you prepared in the previous procedure. You can click Edit to edit this profile or Add profile to add another profile.
    AWS region – This defaults to us-east-1, which supports all Lumberyard cloud gems. Not all cloud gems are supported in all AWS regions.


Click Create. The Progress log indicates Operation in progress. Creating the project stack in AWS takes about 5 to 10 minutes.



When the operation finishes, the Cloud Gem Portal Administrator Account Creation dialog box appears. 


Copy the temporary credentials to the clipboard. You can right-click the dialog box and use the context menu or press CtrlA to select the credentials and then press CtrlC to copy them.

Important
You will need these credentials later to use the Cloud Gem Portal, which is the web management interface for the cloud gems.


Click OK.


In the Create deployment dialog box, which appears at about the same time as the Cloud Gem Portal Administrator Account Creation dialog box, enter a name for your deployment (for example, dev, test, or prod).



Click Create. The deployment operation takes about 10 minutes.


Step 6: Access the Cloud Gem Portal
Now that your cloud gems have been created, you can manage them in the Cloud Gem Portal.
To open the Cloud Gem Portal


In Lumberyard Editor, choose AWS, Open Cloud Gem Portal.



In the Sign In to the Cloud Gem Portal box, enter the temporary user name and password that you recorded earlier.



As a security measure, you are required to replace your temporary password. Enter a new password and click Save Password.


After you sign in, the Cloud Gems page shows the list of cloud gems that are available in your current deployment.



Click a cloud gem to see its management page.


Step 7: Learn More
See the following resources.




Task
Topic




Learn more about each of the cloud gems (including cloud gems not in the CloudGemSamples project)
Cloud Gems


Add additional gems and cloud gems to a project
Enabling Gems


Use the AWS Management Console to see your resources in AWS
Inspect Your Resources in AWS


Create security groups for Cloud Canvas team management
Create IAM Users and Groups to Administer Cloud Canvas Teams


Manage Cloud Gem Portal users
User Management in the Cloud Gem Portal


Create your own cloud gems and customize the Cloud Gem Portal
Creating a Cloud GemGetting Started With Game Development on the Cloud Gem Portal


Remove the resources that you created in AWS
Delete Your Cloud Canvas Deployments and Resources


