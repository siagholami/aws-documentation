Using the Android Producer Library
Amazon Kinesis Video Streams provides the Android Producer Library, which you can use to write application code, with minimal configuration, to send media data from an Android device to a Kinesis video stream. 
You must perform the following steps to integrate your code with Kinesis Video Streams so that your application can start streaming data to your Kinesis video stream:


Create an instance of the KinesisVideoClient object. 


Create a MediaSource object by providing media source information. For example, when creating a camera media source, you provide information such as identifying the camera and specifying the encoding the camera uses.


When you want to start streaming, you must create a custom media source. 
Procedure: Using the Android Producer SDK
This procedure demonstrates how to use the Kinesis Video Streams Android Producer Client in your Android application to send data to your Kinesis video stream. 
The procedure includes the following steps:
 Download and Configure the Code
 Examine the Code
 Run and Verify the Code
Prerequisites

We recommend Android Studio for examining, editing, and running the application code. We recommend at least version 3.0.0, released October 2017.
In the sample code, you provide Amazon Cognito credentials. Follow these procedures to set up an Amazon Cognito user pool and identity pool:

To set up a user pool


Sign in to the Amazon Cognito console.


Choose Manage your User Pools.


Choose Create a user pool.


Type a value for Pool name; for example, _android_user_pool.


Choose Review defaults.


Choose Create pool.


Copy and save the Pool Id value. You will need this value when you configure the example application.


On the page for your pool, choose App clients.


Choose Add an app client.


Type a value for App client name; for example, _android_app_client.


Choose Create app client.


Choose Show Details, and copy and save the App client ID and App client secret. You will need these values when you configure the example application.


To set up an identity pool


Open the Amazon Cognito console.


Choose Manage Identity Pools.


Choose Create new identity pool.


Type a value for Identity pool name; for example, _android_identity_pool.


Expand the Authentication providers section. On the Cognito tab, add the values for the User Pool ID and App client ID from the previous procedure.


Choose Create pool.


On the next page, expand the Show Details section. 


In the section that has a value for Role name that ends in Auth_Role, choose View Policy Document.


Choose Edit, and confirm the Edit Policy dialog box that appears. Then copy the following JSON and paste it into the editor: 
{
     "Version": "2012-10-17",
     "Statement": [
     {
       "Effect": "Allow",
       "Action": [
         "cognito-identity:*",
         "kinesisvideo:*"
       ],
       "Resource": [
         "*"
       ]
     }
   ]
 }


Choose Allow.


On the next page, copy and save the Identity pool ID value from the Get AWS Credentials code snippet. You will need this value when you configure the example application.

