

Monitoring Amazon Kendra with Amazon CloudWatch
To track the health of your indexes, use Amazon CloudWatch. With CloudWatch, you can get metrics for document synchronization for your index. You can also set up CloudWatch alarms to be notified when one or more metrics exceeds a threshold that you define. For example, you can monitor the number of documents submitted to be indexed or the number of documents that failed to be indexed.
You must have the appropriate CloudWatch permissions to monitor Amazon Kendra with CloudWatch. For more information, see Authentication and Access Control for Amazon CloudWatch in the Amazon CloudWatch User Guide.
Viewing Amazon Kendra metrics
View Amazon Kendra metrics using the CloudWatch console.
To view metrics (CloudWatch console)


Sign in to the AWS Management Console and open the CloudWatch console at https://console.aws.amazon.com/cloudwatch/.


Choose Metrics, choose All Metrics and then choose Kendra.


Choose the dimension, choose a metric name, then choose Add to graph.


Choose a value for the date range. The metric count for the selected date range is displayed in the graph.


Creating an alarm
A CloudWatch alarm watches a single metric over a specified time period and performs one or more actions: sending a notification to an Amazon Simple Notification Service (Amazon SNS) top or Auto Scaling policy. The actions or actions are based on the value of the metric relative to a given threshold over a number of time periods that you specify. CloudWatch can also send you an Amazon SNS message when the alarm changes state.
CloudWatch alarms invoke actions only when the state changes and has persisted for the period that you specify.
To set an alarm


Sign in to the AWS Management Console and open the CloudWatch console at https://console.aws.amazon.com/cloudwatch/.


Choose Alarms and then choose Create Alarm.


Choose Kendra metrics and then choose a metric.


For Time Range, choose a time range to monitor, and then choose Next. 


Enter a Name and Description.


For Whenever, choose >=, and type a maximum value.


If you want CloudWatch to send an email when the alarm state is reached, in the Actions section, for Whenever this alarm, choose State is ALARM. For Send notification to, choose a mailing list or choose New list and create a new mailing list


Preview the alarm in the Alarm Preview section. If you are satisfied with the alarm, choose Create Alarm.


CloudWatch Metrics for index synchronization Jobs
The following table describes the Amazon Kendra metrics for data source synchronization jobs.



Metric
Description




DocumentsCrawled
The number of documents that the synchronization job scanned or discovered during the run. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsSubmittedForIndexing
The number of documents that the synchronization job submitted to the index. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsSubmittedForIndexingFailed
The number of documents that failed indexing. Check the contents of the CloudWatch log for the synchronization job for details. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsSubmittedForDeletion
The number of documents that the synchronization job asked to be removed from the index. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsSubmittedForDeletionFailed
The number of documents that failed to be deleted. Check the contents of the CloudWatch log for the synchronization job for details. Dimensions: [See the AWS documentation website for more details]Unit: Count



Metrics for Amazon Kendra data sources
The following table describes the Amazon Kendra metrics for data source synchronization jobs. Metrics marked with an asterisk (*) are used only for Amazon S3 data sources.



Metric
Description




DocumentsSkippedNoChange *
The number of documents examined and found not to have changed so they weren't submitted for indexing. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsSkippedInvalidMetadata *
The number of documents skipped because there was a problem with the associated metadata file. Check the contents of the CloudWatch log for the synchronization run for details. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsCrawled
The number of document files examined. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsSubmittedForDeletion
The number of documents examined that were deleted from the data source and submitted for deletion. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsSubmittedForDeletionFailed
The number of documents that failed deletion from a data source. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsSubmittedForIndexing
The number of documents examined and submitted for indexing. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsSubmittedForIndexingFailed
The number of documents submitted for idexing that couldn't be indexed. Dimensions: [See the AWS documentation website for more details]Unit: Count



Metrics for indexed documents
The following table describes the Amazon Kendra metrics for indexed documents. For documents that are indexed using the BatchPutDocument operation, only the IndexId dimension is supported.



Metric
Description




DocumentsIndexed
The number of documents indexed. Dimensions: [See the AWS documentation website for more details]Unit: Count


DocumentsFailedToIndex
The number of documents that could not be indexed. Check the contents of the CloudWatch log for details. Dimensions: [See the AWS documentation website for more details]Unit: Count


