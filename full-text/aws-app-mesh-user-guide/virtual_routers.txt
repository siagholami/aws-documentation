Virtual routers
Virtual routers handle traffic for one or more virtual services within your mesh. After you create a virtual router, you can create and associate routes for your virtual router that direct incoming requests to different virtual nodes.

Any inbound traffic that your virtual router expects should be specified as a listener.
Creating a virtual router
To create a virtual router using the AWS CLI version 1.18.116 or higher, see the example in the AWS CLI reference for the create-virtual-router command.
To create a virtual router using the AWS Management Console


Open the App Mesh console at https://console.aws.amazon.com/appmesh/. 


Choose the mesh that you want to create the virtual router in. All of the meshes that you own and that have been shared with you are listed.


Choose Virtual routers in the left navigation.


Choose Create virtual router.


For Virtual router name, specify a name for your virtual router. Up to 255 letters, numbers, hyphens, and underscores are allowed.


For Listener, specify a Port and Protocol for your virtual router. The http listener permits connection transition to websockets.


Choose Create virtual router to finish.


Deleting a virtual router
To delete a virtual router using the AWS CLI, use the aws appmesh delete-virtual-router command. For an example of deleting a virtual router using the AWS CLI, see delete-virtual-router.
Note
You cannot delete a virtual router if it has any routes or if it is specified as a provider for any virtual service.
To delete a virtual router using the AWS Management Console


Open the App Mesh console at https://console.aws.amazon.com/appmesh/. 


Choose the mesh that you want to delete a virtual router from. All of the meshes that you own and that have been shared with you are listed.


Choose Virtual routers in the left navigation.


In the Virtual Routers table, choose the virtual router that you want to delete and select Delete. To delete a virtual router, your account ID must be listed in either the Mesh owner or the Resource owner columns of the virtual router.


In the confirmation box, type delete and then select Delete.

