haproxy Attributes
Note
These attributes are available only on Linux stacks.
The haproxy attributes specify the HAProxy server configuration. For more information, see HAProxy Docs. For more information on how to override built-in attributes to specify custom values, see Overriding Attributes.











balance 
check_interval 
client_timeout 


connect_timeout 
default_max_connections 
global_max_connections 


health_check_method 
health_check_url 
queue_timeout 


http_request_timeout 
maxcon_factor_nodejs_app 
maxcon_factor_nodejs_app_ssl 


maxcon_factor_php_app 
maxcon_factor_php_app_ssl 
maxcon_factor_rails_app 


maxcon_factor_rails_app_ssl 
maxcon_factor_static 
maxcon_factor_static_ssl 


retries 
server_timeout 
stats_url 


stats_user 





balance  
The algorithm used by a load balancer to select a server (string). The default value is 'roundrobin'. The other options are:
 'static-rr'
 'leastconn'
 'source'
 'uri'
 'url_param'
 'hdr(name)'
 'rdp-cookie'
 'rdp-cookie(name)'
For more information on these arguments, see balance.  
node[:haproxy][:balance]
check_interval  
The health check time interval (string). The default value is '10s'.  
node[:haproxy][:check_interval]
client_timeout  
The maximum amount of time that a client can be inactive (string). The default value is '60s'.  
node[:haproxy][:client_timeout]
connect_timeout  
The maximum amount of time that HAProxy will wait for a server connection attempt to succeed (string). The default value is '10s'.  
node[:haproxy][:connect_timeout]
default_max_connections  
The default maximum number of connections (string). The default value is '80000'.  
node[:haproxy][:default_max_connections]
global_max_connections  
The maximum number of connections (string). The default value is '80000'.  
node[:haproxy][:global_max_connections]
health_check_method  
The health check method (string). The default value is 'OPTIONS'.  
node[:haproxy][:health_check_method]
health_check_url  
The URL path that is used to check servers' health (string). The default value is '/'.  
node[:haproxy][:health_check_url ]
queue_timeout  
The maximum wait time for a free connection (string). The default value is '120s'.  
node[:haproxy][:queue_timeout]
http_request_timeout  
The maximum amount of time that HAProxy will wait for a complete HTTP request (string). The default value is '30s'.  
node[:haproxy][:http_request_timeout]
retries  
The number of retries after server connection failure (string). The default value is '3'.  
node[:haproxy][:retries]
server_timeout  
The maximum amount of time that a client can be inactive (string). The default value is '60s'.  
node[:haproxy][:server_timeout]
stats_url  
The URL path for the statistics page (string). The default value is '/haproxy?stats'.  
node[:haproxy][:stats_url]
stats_user  
The statistics page user name (string). The default value is 'opsworks'.  
node[:haproxy][:stats_user]
The maxcon attributes represent a load factor multiplier that is used to compute the maximum number of connections that HAProxy allows for backends. For example, suppose you have a Rails app server on a small instance with a backend value of 4, which means that AWS OpsWorks Stacks will configure four Rails processes for that instance. If you use the default maxcon_factor_rails_app value of 7, HAProxy will handle 28 (4*7) connections to the Rails server.
maxcon_factor_nodejs_app  
The maxcon factor for a Node.js app server (number). The default value is 10.  
node[:haproxy][:maxcon_factor_nodejs_app]
maxcon_factor_nodejs_app_ssl  
The maxcon factor for a Node.js app server with SSL (number). The default value is 10.  
node[:haproxy][:maxcon_factor_nodejs_app_ssl]
maxcon_factor_php_app  
The maxcon factor for a PHP app server (number). The default value is 10.  
node[:haproxy][:maxcon_factor_php_app]
maxcon_factor_php_app_ssl  
The maxcon factor for a PHP app server with SSL (number). The default value is 10.  
node[:haproxy][:maxcon_factor_php_app_ssl]
maxcon_factor_rails_app  
The maxcon factor for a Rails app server (number). The default value is 7.  
node[:haproxy][:maxcon_factor_rails_app]
maxcon_factor_rails_app_ssl  
The maxcon factor for a Rails app server with SSL (number). The default value is 7.  
node[:haproxy][:maxcon_factor_rails_app_ssl]
maxcon_factor_static  
The maxcon factor for a static web server (number). The default value is 15.  
node[:haproxy][:maxcon_factor_static]
maxcon_factor_static_ssl  
The maxcon factor for a static web server with SSL (number). The default value is 15.  
node[:haproxy][:maxcon_factor_static_ssl]