Viewing Compliance History for Resources as Evaluated by AWS Config Rules
AWS Config supports storing compliance state changes of resources as evaluated by AWS Config Rules. The resource compliance history is presented in the form of a timeline. The timeline captures changes as ConfigurationItems over a period of time for a specific resource. The Compliance timeline is available in the AWS Config console adjacent to the Configuration timeline. 
You can opt in or opt out to record all resource types in AWS Config. If you have opted to record all resource types, AWS Config will automatically begin to record the resource compliance history as evaluated by AWS Config Rules. You can select all the resources or specific types of resources for which you want AWS Config to record configuration changes. By default, AWS Config records the configuration changes for all supported resources. 
Topics
 Recording Resource Types in the AWS Console
 Viewing Compliance Timeline Using Resources
 Viewing Compliance Timeline Using Rules
 Querying Resource Compliance History
Recording Resource Types in the AWS Console
On the Settings page, for Resource types to record, specify the AWS resource types you want AWS Config to record:
 All resources – AWS Config records all supported resources with the following options:
   Record all resources supported in this region – AWS Config records configuration changes for every supported type of regional resource. When AWS Config adds support for a new resource type, AWS Config automatically starts recording resources of that type.
   Include global resources – AWS Config includes supported types of global resources with the resources that it records (for example, IAM resources). When AWS Config adds support for a new global resource type, AWS Config automatically starts recording resources of that type.
 Specific types – AWS Config records configuration changes for only the AWS resource types that you specify. Choose resource type Config:ResourceCompliance to record compliance history.
Viewing Compliance Timeline Using Resources
Access the compliance timeline by selecting a specific resource from the Resource inventory page.


Select the Resources from the left navigation.


On the Resource inventory page, select all the existing resources from the drop-down and if appropriate, select include deleted resources.


Click Lookup.


The table displays the resource identifier for the resource type and the resource compliance status for that resource. The resource identifier might be a resource ID or a resource name, if applicable. 


Select the resource from the resource identifier column.


Select the Compliance timeline from the Resource actions drop-down.


The compliance timeline is displayed.

Note
Alternatively, on the Resource inventory page, you can directly click the resource name. The Resource details page is displayed. To access the compliance timeline from the resource details page, click the Compliance timeline button.  

Viewing Compliance Timeline Using Rules
Access the compliance timeline by selecting a specific rule from the Rule page.


Select the Rules from the left navigation.


On the Rule page, click the name of the rule evaluating your relevant resources. If no rules are displayed on the screen, add rules using the Add rule button.


On the Rule details page, select the resources from the Resources evaluated table.


Select Compliance timeline from the Resource actions drop-down. The compliance timeline is displayed.


Querying Resource Compliance History
Query the resource compliance history using get-resource-config-history using the resource type AWS::Config::ResourceCompliance.
aws configservice get-resource-config-history --resource-type AWS::Config::ResourceCompliance --resource-id AWS::S3::Bucket/configrules-bucket
You should see output similar to the following:
```
{
    "configurationItems": [
        {
            "configurationItemCaptureTime": 1539799966.921,
            "relationships": [
                {
                    "resourceType": "AWS::S3::Bucket",
                    "resourceId": "configrules-bucket",
                    "relationshipName": "Is associated with "
                }
            ]
            "tags": {},
            "resourceType": "AWS::Config::ResourceCompliance",
            "resourceId": "AWS::S3::Bucket/configrules-bucket",
            "ConfigurationStateId": "1539799966921",
            "relatedEvents": [];
            "awsRegion": "us-west-2",
            "version": "1.3",
            "configurationItemMD5Hash": "",
            "supplementaryConfiguration": {},
            "configuaration": "{\"complianceType\":\"COMPLIANT\",\"targetResourceId\":\"configrules-bucket\",\"targetResourceType\":\"AWS::S3::Bucket\",\configRuleList"\":[{\"configRuleArn\":\"arn:aws:config:us-west-2:AccountID:config-rule/config-rule-w1gogw\",\"configRuleId\":\"config-rule-w1gogw\",\"configRuleName\":\"s3-bucket-logging-enabled\",\"complianceType\":\"COMPLIANT\"}]}",
        "configurationItemStatus": "ResourceDiscovered",
        "accountId": "AccountID"
    }
]

}
```