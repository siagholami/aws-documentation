Amazon Kinesis Data Analytics for SQL Applications Developer Guide SQL Developer Guide

*Copyright Â© 2020 Amazon Web Services, Inc. and/or its affiliates. All rights reserved.***

Amazon's trademarks and trade dress may not be used in 
     connection with any product or service that is not Amazon's, 
     in any manner that is likely to cause confusion among customers, 
     or in any manner that disparages or discredits Amazon. All other 
     trademarks not owned by Amazon are the property of their respective
     owners, who may or may not be affiliated with, connected to, or 
     sponsored by Amazon.

Contents

What Is Amazon Kinesis Data Analytics for SQL Applications?
Amazon Kinesis Data Analytics for SQL Applications: How It Works
Configuring Application Input
Working with JSONPath
Mapping Streaming Source Elements to SQL Input Columns
Using the Schema Discovery Feature on Streaming Data
Using the Schema Discovery Feature on Static Data
Preprocessing Data Using a Lambda Function
Creating Lambda Functions for Preprocessing


Parallelizing Input Streams for Increased Throughput


Application Code
Configuring Application Output
Using a Lambda Function as Output
Creating Lambda Functions for Application Destinations


Delivery Model for Persisting Application Output to an External Destination


Error Handling
Automatically Scaling Applications to Increase Throughput
Using Tagging
Getting Started with Amazon Kinesis Data Analytics for SQL Applications
Step 1: Set Up an AWS Account and Create an Administrator User
Step 2: Set Up the AWS Command Line Interface (AWS CLI)
Step 3: Create Your Starter Amazon Kinesis Data Analytics Application
Step 3.1: Create an Application
Step 3.2: Configure Input
Step 3.3: Add Real-Time Analytics (Add Application Code)
Step 3.4: (Optional) Update the Application Code


Step 4 (Optional) Edit the Schema and SQL Code Using the Console
Working with the Schema Editor
Working with the SQL Editor


Streaming SQL Concepts
In-Application Streams and Pumps
Timestamps and the ROWTIME Column
Continuous Queries
Windowed Queries
Stagger Windows
Tumbling Windows (Aggregations Using GROUP BY)
Sliding Windows


Streaming Data Operations: Stream Joins
Example Applications
Examples: Transforming Data
Examples: Transforming String Values
Example: Extracting a Portion of a String (SUBSTRING Function)
Example: Replacing a Substring using Regex (REGEX_REPLACE Function)
Example: Parsing Log Strings Based on Regular Expressions (REGEX_LOG_PARSE Function)
Example: Parsing Web Logs (W3C_LOG_PARSE Function)
Example: Split Strings into Multiple Fields (VARIABLE_COLUMN_LOG_PARSE Function)


Example: Transforming DateTime Values
Example: Transforming Multiple Data Types
Step 1: Prepare the Data
Step 2: Create the Application




Examples: Windows and Aggregation
Example: Stagger Window
Example: Tumbling Window Using ROWTIME
Example: Tumbling Window Using an Event Timestamp
Example: Retrieving the Most Frequently Occurring Values (TOP_K_ITEMS_TUMBLING)
Example: Aggregating Partial Results from a Query


Examples: Joins
Example: Adding Reference Data to a Kinesis Data Analytics Application


Examples: Machine Learning
Example: Detecting Data Anomalies on a Stream (RANDOM_CUT_FOREST Function)
Step 1: Prepare
Step 2: Create an Application
Step 3: Configure Application Output
Step 4: Verify Output


Example: Detecting Data Anomalies and Getting an Explanation (RANDOM_CUT_FOREST_WITH_EXPLANATION Function)
Step 1: Prepare the Data
Step 2: Create an Analytics Application
Step 3: Examine the Results


Example: Detecting Hotspots on a Stream (HOTSPOTS Function)
Step 1: Create the Input and Output Streams
Step 2: Create the Kinesis Data Analytics Application
Step 3: Configure the Application Output
Step 4: Verify the Application Output




Examples: Alerts and Errors
Example: Creating Simple Alerts
Example: Creating Throttled Alerts
Example: Exploring the In-Application Error Stream


Examples: Solution Accelerators
Security in Amazon Kinesis Data Analytics
Data Protection in Amazon Kinesis Data Analytics for SQL Applications
Identity and Access Management in Kinesis Data Analytics
Monitoring Amazon Kinesis Data Analytics
Compliance Validation for Amazon Kinesis Data Analytics for SQL Applications
Resilience in Amazon Kinesis Data Analytics
Infrastructure Security in Kinesis Data Analytics for SQL Applications
Security Best Practices for Kinesis Data Analytics
Monitoring Amazon Kinesis Data Analytics for SQL Applications
Monitoring Tools
Monitoring with Amazon CloudWatch
Kinesis Data Analytics Metrics and Dimensions
Viewing Amazon Kinesis Data Analytics Metrics and Dimensions
Creating CloudWatch Alarms to Monitor Amazon Kinesis Data Analytics
Working with Amazon CloudWatch Logs


Logging Kinesis Data Analytics API Calls with AWS CloudTrail
Limits
Best Practices
Troubleshooting Amazon Kinesis Data Analytics for SQL Applications
Authentication and Access Control for Amazon Kinesis Data Analytics for SQL Applications
Overview of Managing Access Permissions to Your Amazon Kinesis Data Analytics Resources
Using Identity-Based Policies (IAM Policies) for Amazon Kinesis Data Analytics
Amazon Kinesis Data Analytics API Permissions: Actions, Permissions, and Resources Reference
Kinesis Data Analytics SQL Reference
API Reference
Actions
AddApplicationCloudWatchLoggingOption
AddApplicationInput
AddApplicationInputProcessingConfiguration
AddApplicationOutput
AddApplicationReferenceDataSource
CreateApplication
DeleteApplication
DeleteApplicationCloudWatchLoggingOption
DeleteApplicationInputProcessingConfiguration
DeleteApplicationOutput
DeleteApplicationReferenceDataSource
DescribeApplication
DiscoverInputSchema
ListApplications
ListTagsForResource
StartApplication
StopApplication
TagResource
UntagResource
UpdateApplication


Data Types
ApplicationDetail
ApplicationSummary
ApplicationUpdate
CloudWatchLoggingOption
CloudWatchLoggingOptionDescription
CloudWatchLoggingOptionUpdate
CSVMappingParameters
DestinationSchema
Input
InputConfiguration
InputDescription
InputLambdaProcessor
InputLambdaProcessorDescription
InputLambdaProcessorUpdate
InputParallelism
InputParallelismUpdate
InputProcessingConfiguration
InputProcessingConfigurationDescription
InputProcessingConfigurationUpdate
InputSchemaUpdate
InputStartingPositionConfiguration
InputUpdate
JSONMappingParameters
KinesisFirehoseInput
KinesisFirehoseInputDescription
KinesisFirehoseInputUpdate
KinesisFirehoseOutput
KinesisFirehoseOutputDescription
KinesisFirehoseOutputUpdate
KinesisStreamsInput
KinesisStreamsInputDescription
KinesisStreamsInputUpdate
KinesisStreamsOutput
KinesisStreamsOutputDescription
KinesisStreamsOutputUpdate
LambdaOutput
LambdaOutputDescription
LambdaOutputUpdate
MappingParameters
Output
OutputDescription
OutputUpdate
RecordColumn
RecordFormat
ReferenceDataSource
ReferenceDataSourceDescription
ReferenceDataSourceUpdate
S3Configuration
S3ReferenceDataSource
S3ReferenceDataSourceDescription
S3ReferenceDataSourceUpdate
SourceSchema
Tag


Document History for Amazon Kinesis Data Analytics
AWS Glossary
