CreateBatchInferenceJob
Creates a batch inference job. The operation can handle up to 50 million records and the input file must be in JSON format. For more information, see Getting Batch Recommendations.
Request Syntax
{
   "batchInferenceJobConfig": { 
      "itemExplorationConfig": { 
         "string" : "string" 
      }
   },
   "filterArn": "string",
   "jobInput": { 
      "s3DataSource": { 
         "kmsKeyArn": "string",
         "path": "string"
      }
   },
   "jobName": "string",
   "jobOutput": { 
      "s3DataDestination": { 
         "kmsKeyArn": "string",
         "path": "string"
      }
   },
   "numResults": number,
   "roleArn": "string",
   "solutionVersionArn": "string"
}
Request Parameters
The request accepts the following data in JSON format.
 batchInferenceJobConfig  
The configuration details of a batch inference job.
Type: BatchInferenceJobConfig object
Required: No
 filterArn  
The ARN of the filter to apply to the batch inference job. For more information on using filters, see Using Filters with Amazon Personalize.
Type: String
Length Constraints: Maximum length of 256.
Pattern: arn:([a-z\d-]):personalize:.*:.*:. 
Required: No
 jobInput  
The Amazon S3 path that leads to the input file to base your recommendations on. The input material must be in JSON format.
Type: BatchInferenceJobInput object
Required: Yes
 jobName  
The name of the batch inference job to create.
Type: String
Length Constraints: Minimum length of 1. Maximum length of 63.
Pattern: ^[a-zA-Z0-9][a-zA-Z0-9\-_]* 
Required: Yes
 jobOutput  
The path to the Amazon S3 bucket where the job's output will be stored.
Type: BatchInferenceJobOutput object
Required: Yes
 numResults  
The number of recommendations to retreive.
Type: Integer
Required: No
 roleArn  
The ARN of the Amazon Identity and Access Management role that has permissions to read and write to your input and out Amazon S3 buckets respectively.
Type: String
Length Constraints: Maximum length of 256.
Pattern: arn:([a-z\d-]):iam::\d{12}:role/?[a-zA-Z_0-9=,.@\-_/] 
Required: Yes
 solutionVersionArn  
The Amazon Resource Name (ARN) of the solution version that will be used to generate the batch inference recommendations.
Type: String
Length Constraints: Maximum length of 256.
Pattern: arn:([a-z\d-]):personalize:.*:.*:. 
Required: Yes
Response Syntax
{
   "batchInferenceJobArn": "string"
}
Response Elements
If the action is successful, the service sends back an HTTP 200 response.
The following data is returned in JSON format by the service.
 batchInferenceJobArn  
The ARN of the batch inference job.
Type: String
Length Constraints: Maximum length of 256.
Pattern: arn:([a-z\d-]):personalize:.*:.*:. 
Errors
InvalidInputException 
Provide a valid value for the field or parameter.
HTTP Status Code: 400
LimitExceededException 
The limit on the number of requests per second has been exceeded.
HTTP Status Code: 400
ResourceAlreadyExistsException 
The specified resource already exists.
HTTP Status Code: 400
ResourceInUseException 
The specified resource is in use.
HTTP Status Code: 400
ResourceNotFoundException 
Could not find the specified resource.
HTTP Status Code: 400
See Also
For more information about using this API in one of the language-specific AWS SDKs, see the following:
  AWS Command Line Interface 
  AWS SDK for .NET 
  AWS SDK for C 
  AWS SDK for Go 
  AWS SDK for Java 
  AWS SDK for JavaScript 
  AWS SDK for PHP V3 
  AWS SDK for Python 
  AWS SDK for Ruby V3 