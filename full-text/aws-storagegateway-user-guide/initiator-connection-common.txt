Connecting iSCSI Initiators
When managing your gateway, you work with volumes or virtual tape library (VTL) devices that are exposed as Internet Small Computer System Interface (iSCSI) targets. For volume gateways, the iSCSI targets are volumes. For tape gateways, the targets are VTL devices. As part of this work, you do such tasks as connecting to those targets, customizing iSCSI settings, connecting from a Red Hat Linux client, and configuring Challenge-Handshake Authentication Protocol (CHAP). 
Topics
 Connecting to Your Volumes to a Windows Client
 Connecting Your VTL Devices to a Windows client
 Connecting Your Volumes or VTL Devices to a Linux Client
 Customizing iSCSI Settings
 Configuring CHAP Authentication for Your iSCSI Targets
The iSCSI standard is an Internet Protocol (IP)â€“based storage networking standard for initiating and managing connections between IP-based storage devices and clients. The following list defines some of the terms that are used to describe the iSCSI connection and the components involved. 
iSCSI initiator 
The client component of an iSCSI network. The initiator sends requests to the iSCSI target. Initiators can be implemented in software or hardware. AWS Storage Gateway only supports software initiators.
iSCSI target
The server component of the iSCSI network that receives and responds to requests from initiators. Each of your volumes is exposed as an iSCSI target. Connect only one iSCSI initiator to each iSCSI target.
Microsoft iSCSI initiator
The software program on Microsoft Windows computers that enables you to connect a client computer (that is, the computer running the application whose data you want to write to the gateway) to an external iSCSI-based array (that is, the gateway). The connection is made using the host computer's Ethernet network adapter card. The Microsoft iSCSI initiator is already installed on Windows Server 2008 R2, Windows 7, Windows Server 2008, and Windows Vista. On these operating systems, you don't need to install the initiator. 
Red Hat iSCSI initiator
The iscsi-initiator-utils Resource Package Manager (RPM) package provides you with an iSCSI initiator implemented in software for Red Hat Linux. The package includes a server daemon for the iSCSI protocol.
Each type of gateway can connect to iSCSI devices, and you can customize those connections, as described following.
Connecting to Your Volumes to a Windows Client
A volume gateway exposes volumes you have created for the gateway as iSCSI targets. For more information, see Connecting Your Volumes to Your Client.
Note
To connect to your volume target, your gateway must have an upload buffer configured. If an upload buffer is not configured for your gateway, then the status of your volumes is displayed as UPLOAD BUFFER NOT CONFIGURED. To configure an upload buffer for a gateway in a stored volumes setup, see To add and configure upload buffer or cache storage. To configure an upload buffer for a gateway in a cached volumes setup, see To add and configure upload buffer or cache storage. 
The following diagram highlights the iSCSI target in the larger picture of the AWS Storage Gateway architecture. For more information, see How AWS Storage Gateway Works (Architecture).

You can connect to your volume from either a Windows or Red Hat Linux client. You can optionally configure CHAP for either client type.
Your gateway exposes your volume as an iSCSI target with a name you specify, prepended by iqn.1997-05.com.amazon:. For example, if you specify a target name of myvolume, then the iSCSI target you use to connect to the volume is iqn.1997-05.com.amazon:myvolume. For more information about how to configure your applications to mount volumes over iSCSI, see Connecting to Your Volumes to a Windows Client. 



To
See




Connect to your volume from Windows.
Connecting Your Volumes to Your Client in the Getting Started section


Connect to your volume from Red Hat Linux.
Connecting to a Microsoft Windows Client


Configure CHAP authentication for Windows and Red Hat Linux.
Configuring CHAP Authentication for Your iSCSI Targets



To connect your Windows client to a storage volume


On the Start menu of your Windows client computer, type iscsicpl.exe in the Search Programs and files box, locate the iSCSI initiator program, and then run it.
Note
You must have administrator rights on the client computer to run the iSCSI initiator.


If prompted, choose Yes to start the Microsoft iSCSI initiator service.



In the iSCSI Initiator Properties dialog box, choose the Discovery tab, and then choose the Discovery Portal button.



In the Discover Target Portal dialog box, type the IP address of your iSCSI target for IP address or DNS name, and then choose OK. To get the IP address of your gateway, check the Gateway tab on the AWS Storage Gateway console. If you deployed your gateway on an Amazon EC2 instance, you can find the public IP or DNS address in the Description tab on the Amazon EC2 console.



The IP address now appears in the Target portals list on the Discovery tab.



Connect the new target portal to the storage volume target on the gateway:


Choose the Targets tab.
The new target portal is shown with an inactive status. The target name shown should be the same as the name that you specified for your storage volume in step 1.



Select the target, and then choose Connect. 
If the target name is not populated already, type the name of the target as shown in step 1 in the Connect to Target dialog box, select the check box next to Add this connection to the list of Favorite Targets, and then choose OK. 



In the Targets tab, ensure that the target Status has the value Connected indicating the target is connected, and then choose OK.



You can now initialize and format this storage volume for Windows so you can begin saving data on it. You do this by using the Windows Disk Management tool. 
Note
Although it is not required for this exercise, we highly recommend that you customize your iSCSI settings for a real-world application as discussed in Customizing Your Windows iSCSI Settings.
Connecting Your VTL Devices to a Windows client
A tape gateway exposes several tape drives and a media changer, referred to collectively as VTL devices, as iSCSI targets. For more information, see Requirements. 
Note
You connect only one application to each iSCSI target. 
The following diagram highlights the iSCSI target in the larger picture of the AWS Storage Gateway architecture. For more information on AWS Storage Gateway architecture, see Tape Gateways.

To connect your Windows client to the VTL devices


On the Start menu of your Windows client computer, type iscsicpl.exe in the Search Programs and files box, locate the iSCSI initiator program, and then run it.
Note
You must have administrator rights on the client computer to run the iSCSI initiator.


If prompted, choose Yes to start the Microsoft iSCSI initiator service.



In the iSCSI Initiator Properties dialog box, choose the Discovery tab, and then choose Discover Portal.



In the Discover Target Portal dialog box, type the IP address of your tape gateway for IP address or DNS name, and then choose OK. To get the IP address of your gateway, check the Gateway tab on the AWS Storage Gateway console. If you deployed your gateway on an Amazon EC2 instance, you can find the public IP or DNS address in the Description tab on the Amazon EC2 console.



Choose the Targets tab, and then choose Refresh. All 10 tape drives and the medium changer appear in the Discovered targets box. The status for the targets is Inactive.


The following screenshot shows the discovered targets.



Select the first device and choose Connect. You connect the devices one at a time. 


In the Connect to Target dialog box, choose OK.


Repeat steps 6 and 7 for each of the devices to connect all of them, and then choose OK in the iSCSI Initiator Properties dialog box.


On a Windows client, the driver provider for the tape drive must be Microsoft. Use the following procedure to verify the driver provider, and update the driver and provider if necessary. 
To verify the driver provider and if necessary update the provider and driver on a Windows client


On your Windows client, start Device Manager.


Expand Tape drives, choose the context (right-click) menu for a tape drive, and choose Properties.



In the Driver tab of the Device Properties dialog box, verify Driver Provider is Microsoft.



If Driver Provider is not Microsoft, set the value as follows:


Choose Update Driver.


In the Update Driver Software dialog box, choose Browse my computer for driver software.



In the Update Driver Software dialog box, choose Let me pick from a list of device drivers on my computer.



Select LTO Tape drive and choose Next. 



Choose Close to close the Update Driver Software window, and verify that the Driver Provider value is now set to Microsoft.


Repeat steps 4.1 through 4.5 to update all the tape drives.


Connecting Your Volumes or VTL Devices to a Linux Client
Topics
When using Red Hat Enterprise Linux (RHEL), you use the iscsi-initiator-utils RPM package to connect to your gateway iSCSI targets (volumes or VTL devices). 
To connect a Linux client to the iSCSI targets

Install the iscsi-initiator-utils RPM package, if it isn't already installed on your client. 

You can use the following command to install the package.
sudo yum install iscsi-initiator-utils


Ensure that the iSCSI daemon is running.


Verify that the iSCSI daemon is running using one of the following commands.
For RHEL 5 or 6, use the following command.
sudo /etc/init.d/iscsi status
For RHEL 7, use the following command.
sudo service iscsid status


If the status command doesn't return a status of running, then start the daemon using one of the following commands.
For RHEL 5 or 6, use the following command.
sudo /etc/init.d/iscsi start
For RHEL 7, use the following command. For RHEL 7, you usually don't need to explicitly start the iscsid service.
sudo service iscsid start


To discover the volume or VTL device targets defined for a gateway, use the following discovery command.


sudo /sbin/iscsiadm --mode discovery --type sendtargets --portal [GATEWAY_IP]:3260
Substitute your gateway's IP address for the [GATEWAY_IP] variable in the preceding command. You can find the gateway IP in the iSCSI Target Info properties of a volume on the AWS Storage Gateway console. 
The output of the discovery command will look like the following example output.
For volume gateways: [GATEWAY_IP]:3260, 1 iqn.1997-05.com.amazon:myvolume
For tape gateways: iqn.1997-05.com.amazon:[GATEWAY_IP]-tapedrive-01
Your iSCSI qualified name (IQN) will be different than what is shown preceding, because IQN values are unique to an organization. The name of the target is the name that you specified when you created the volume. You can also find this target name in the iSCSI Target Info properties pane when you select a volume on the AWS Storage Gateway console.

To connect to a target, use the following command.

Note that you need to specify the correct [GATEWAY_IP] and IQN in the connect command.
Warning
For gateways that are deployed on an Amazon EC2 instance, accessing the gateway over a public internet connection is not supported. The elastic IP address of the Amazon EC2 instance cannot be used as the target address. 
sudo /sbin/iscsiadm --mode node --targetname iqn.1997-05.com.amazon:[ISCSI_TARGET_NAME] --portal [GATEWAY_IP]:3260,1 --login

To verify that the volume is attached to the client machine (the initiator), use the following command.

ls -l /dev/disk/by-path
The output of the command will look like the following example output.
lrwxrwxrwx. 1 root root 9 Apr 16 19:31 ip-[GATEWAY_IP]:3260-iscsi-iqn.1997-05.com.amazon:myvolume-lun-0 -> ../../sda
We highly recommend that after you set up your initiator you customize your iSCSI settings as discussed in Customizing Your Linux iSCSI Settings.
Customizing iSCSI Settings
After you set up your initiator, we highly recommend that you customize your iSCSI settings to prevent the initiator from disconnecting from targets.
By increasing the iSCSI timeout values as shown in the following steps, you make your application better at dealing with write operations that take a long time and other transient issues such as network interruptions.
Note
Before making changes to the registry, you should make a backup copy of the registry. For information on making a backup copy and other best practices to follow when working with the registry, see Registry best practices in the Microsoft TechNet Library.
Topics
 Customizing Your Windows iSCSI Settings
 Customizing Your Linux iSCSI Settings
Customizing Your Windows iSCSI Settings
When using a Windows client, you use the Microsoft iSCSI initiator to connect to your gateway volume. For instructions on how to connect to your volumes, see Connecting Your Volumes to Your Client.
For a tape gateway setup, connecting to your VTL devices by using a Microsoft iSCSI initiator is a two-step process: 


Connect your tape gateway devices to your Windows client.


If you are using a backup application, configure the application to use the devices.


The Getting Started example setup provides instructions for both these steps. It uses the Symantec NetBackup backup application. For more information, see Connecting Your VTL Devices and Configuring NetBackup Storage Devices. 
To customize your Windows iSCSI settings


Increase the maximum time for which requests are queued.


Start Registry Editor (Regedit.exe).


Navigate to the globally unique identifier (GUID) key for the device class that contains iSCSI controller settings, shown following.
Warning
Make sure you are working in the CurrentControlSet subkey and not another control set such as ControlSet001 or ControlSet002.
HKEY_Local_Machine\SYSTEM\CurrentControlSet\Control\Class\{4D36E97B-E325-11CE-BFC1-08002BE10318}


Find the subkey for the Microsoft iSCSI initiator, shown following as [<Instance Number].
The key is represented by a four-digit number, such as 0000. 
HKEY_Local_Machine\SYSTEM\CurrentControlSet\Control\Class\{4D36E97B-E325-11CE-BFC1-08002BE10318}\[<Instance Number]
Depending on what is installed on your computer, the Microsoft iSCSI initiator might not be the subkey 0000. You can ensure that you have selected the correct subkey by verifying that the string DriverDesc has the value Microsoft iSCSI Initiator, as shown in the following example.



To show the iSCSI settings, choose the Parameters subkey.


Open the context (right-click) menu for the MaxRequestHoldTime DWORD (32-bit) value, choose Modify, and then change the value to 600.
This value represents a hold time of 600 seconds. The example following shows the MaxRequestHoldTime DWORD value with a value of 600.



You can increase the maximum amount of data that can be sent in iSCSI packets by modifying the following parameters:
    FirstBurstLength controls the maximum amount of data that can be transmitted in an unsolicited write request. Set this value to 65536 if the original value is smaller.
    MaxBurstLength is similar to FirstBurstLength, but it sets the maximum amount of data that can be transmitted in solicited write sequences. Set this value to 262144 if the original value is smaller.
    MaxRecvDataSegmentLength controls the maximum data segment size that is associated with a single protocol data unit (PDU). Set this value to 65536 if the original value is smaller.

Note
Different backup software can be optimized to work best using different iSCSI settings. To verify which values for these parameters will provide the best performance, see the documentation for your backup software.


Increase the disk timeout value, as shown following:


Start Registry Editor (Regedit.exe), if you haven't already.


Navigate to the Disk subkey in the Services subkey of the CurrentControlSet, shown following.
HKEY_Local_Machine\SYSTEM\CurrentControlSet\Services\Disk


Open the context (right-click) menu for the TimeOutValue DWORD (32-bit) value, choose Modify, and then change the value to 600.
This value represents a timeout of 600 seconds. The example following shows the TimeOutValue DWORD value with a value of 600.



To ensure that the new configuration values take effect, restart your system.


Before restarting, you must make sure that the results of all write operations to volumes are flushed. To do this, take any mapped storage volume disks offline before restarting.
Customizing Your Linux iSCSI Settings
After setting up your initiator, we highly recommend that you customize your iSCSI settings to prevent the initiator from disconnecting from targets. By increasing the iSCSI timeout values as shown following, you make your application better at dealing with write operations that take a long time and other transient issues such as network interruptions.
Note
Commands might be slightly different for other types of Linux. The following examples are based on Red Hat Linux.
To customize your Linux iSCSI settings


Increase the maximum time for which requests are queued.


Open the /etc/iscsi/iscsid.conf file and find the following lines.
node.session.timeo.replacement_timeout = [replacement_timeout_value] 
  node.conn[0].timeo.noop_out_interval = [noop_out_interval_value] 
  node.conn[0].timeo.noop_out_timeout = [noop_out_timeout_value]


Set the [replacement_timeout_value] value to 600. 
Set the [noop_out_interval_value] value to 60.
Set the [noop_out_timeout_value] value to 600. 
All three values are in seconds.
Note
The iscsid.conf settings must be made before discovering the gateway. If you have already discovered your gateway or logged in to the target, or both, you can delete the entry from the discovery database using the following command. Then you can rediscover or log in again to pick up the new configuration.  
iscsiadm -m discoverydb -t sendtargets -p [GATEWAY_IP]:3260 -o delete


Increase the disk timeout value in the rules file.


If you are using the RHEL 5 initiator, open the /etc/udev/rules.d/50-udev.rules file and find the following line.
ACTION=="add", SUBSYSTEM=="scsi" , SYSFS{type}=="0|7|14", \ 
  RUN="/bin/sh -c 'echo [timeout] > /sys$$DEVPATH/timeout'"
This rules file does not exist in RHEL 6 or 7 initiators, so you must create it using the following rule.
ACTION=="add", SUBSYSTEMS=="scsi" , ATTRS{model}=="Storage Gateway", 
  RUN="/bin/sh -c 'echo [timeout] > /sys$$DEVPATH/timeout'"
To modify the timeout value in RHEL 6, use the following command and then add the lines of code shown preceding. 
sudo vim /etc/udev/rules.d/50-udev.rules
To modify the timeout value in RHEL 7, use the following command and then add the lines of code shown preceding. 
sudo su -c "echo 600 > /sys/block/[device name]/device/timeout"


Set the [timeout] value to 600.
This value represents a timeout of 600 seconds.


Increase the maximum values for the amount of data that can be transmitted in each response.


Open the /etc/iscsi/iscsid.conf file and find the following lines.
node.session.iscsi.FirstBurstLength = [replacement_first_burst_length_value] 
  node.session.iscsi.MaxBurstLength = [replacement_max_burst_length_value]
  node.conn[0].iscsi.MaxRecvDataSegmentLength = [replacement_segment_length_value]


We recommend the following values to achieve better performance. Your backup software might be optimized to use different values, so see your backup software documentation for best results.
Set the [replacement_first_burst_length_value] value to 262144 if the original value is smaller.
Set the [replacement_max_burst_length_value] value to 1048576 if the original value is smaller.
Set the [replacement_segment_length_value] value to 262144 if the original value is smaller.
Note
Different backup software can be optimized to work best using different iSCSI settings. To verify which values for these parameters will provide the best performance, see the documentation for your backup software.


Restart your system to ensure that the new configuration values take effect.


Before restarting, you must make sure that the results of all write operations to your volumes are flushed. To do this, unmount storage volumes before restarting.

You can test the configuration by using the following command. 

udevadm test [PATH_TO_ISCSI_DEVICE]
This command shows the udev rules that are applied to the iSCSI device.
Configuring CHAP Authentication for Your iSCSI Targets
AWS Storage Gateway supports authentication between your gateway and iSCSI initiators by using Challenge-Handshake Authentication Protocol (CHAP).Â CHAP provides protection against playback attacks by periodically verifying the identity of an iSCSI initiator as authenticated to access a volume and VTL device target. 
To set up CHAP, you must configure it both on the AWS Storage Gateway console and in the iSCSI initiator software that you use to connect to the target. Storage Gateway uses mutual CHAP, which is when the initiator authenticates the target and the target authenticates the initiator.
To set up mutual CHAP for your targets


Configure CHAP on the AWS Storage Gateway console, as discussed in To configure CHAP for a volume target on the AWS Storage Gateway console.


In your client initiator software, complete the CHAP configuration:
    To configure mutual CHAP on a Windows client, see To configure mutual CHAP on a Windows client.
    To configure mutual CHAP on a Red Hat Linux client, see To configure mutual CHAP on a Red Hat Linux client.


To configure CHAP for a volume target on the AWS Storage Gateway console
In this procedure, you specify two secret keys that are used to read and write to a volume. These same keys are used in the procedure to configure the client initiator.


On the AWS Storage Gateway console, choose Volumes in the navigation pane.


For Actions, choose Configure CHAP Authentication.


Provide the requested information in the Configure CHAP Authentication dialog box, shown in the screenshot following:



For Initiator Name, type the name of your iSCSI initiator.
You can find the initiator name by using your iSCSI initiator software. For example, for Windows clients, the name is the value on the Configuration tab of the iSCSI initiator. For more information, see To configure mutual CHAP on a Windows client.
Note
To change an initiator name, you must first disable CHAP, change the initiator name in your iSCSI initiator software, and then enable CHAP with the new name.


For Secret used to Authenticate Initiator, type the secret requested.
This secret must be a minimum of 12 characters and a maximum of 16 characters long. This value is the secret key that the initiator (that is, the Windows client) must know to participate in CHAP with the target.


For Secret used to Authenticate Target (Mutual CHAP), type the secret requested.
This secret must be a minimum of 12 characters and a maximum of 16 characters long. This value is the secret key that the target must know to participate in CHAP with the initiator.
Note
The secret used to authenticate the target must be different than the secret to authenticate the initiator.


Choose Save.


Choose the Details tab and confirm that iSCSI CHAP authentication is set to true.



To configure CHAP for a VTL device target on the AWS Storage Gateway console
In this procedure, you specify two secret keys that are used to read and write to a virtual tape. These same keys are used in the procedure to configure the client initiator.


In the navigation pane, choose Gateways.


Choose your gateway, and then choose the VTL Devices tab to display all your VTL devices.


Choose the device you want to configure CHAP for.


Provide the requested information in the Configure CHAP Authentication dialog box, shown in the screenshot following:



For Initiator Name, type the name of your iSCSI initiator.
You can find the initiator name by using your iSCSI initiator software. For example, for Windows clients, the name is the value on the Configuration tab of the iSCSI initiator. For more information, see To configure mutual CHAP on a Windows client.
Note
To change an initiator name, you must first disable CHAP, change the initiator name in your iSCSI initiator software, and then enable CHAP with the new name.


For Secret used to Authenticate Initiator, type the secret requested.
This secret must be a minimum of 12 characters and a maximum of 16 characters long. This value is the secret key that the initiator (that is, the Windows client) must know to participate in CHAP with the target.


For Secret used to Authenticate Target (Mutual CHAP), type the secret requested.
This secret must be a minimum of 12 characters and a maximum of 16 characters long. This value is the secret key that the target must know to participate in CHAP with the initiator.
Note
The secret used to authenticate the target must be different than the secret to authenticate the initiator.


Choose Save.


On the VTL Devices tab, confirm that the iSCSI CHAP authentication field is set to true.


To configure mutual CHAP on a Windows client
In this procedure, you configure CHAP in the Microsoft iSCSI initiator using the same keys that you used to configure CHAP for the volume on the console.


If the iSCSI initiator is not already started, on the Start menu of your Windows client computer, choose Run, type iscsicpl.exe, and then choose OK to run the program.


Configure mutual CHAP configuration for the initiator (that is, the Windows client):


Choose the Configuration tab.

Note
The Initiator Name value is unique to your initiator and company. The name shown preceding is the value that you used in the Configure CHAP Authentication dialog box of the AWS Storage Gateway console.
The name shown in the example image is for demonstration purposes only.


Choose CHAP.


In the iSCSI Initiator Mutual Chap Secret dialog box, type the mutual CHAP secret value.

In this dialog box, you enter the secret that the initiator (the Windows client) uses to authenticate the target (the storage volume). This secret allows the target to read and write to the initiator. This secret is the same as the secret typed into the Secret used to Authenticate Target (Mutual CHAP) box in the Configure CHAP Authentication dialog box. For more information, see Configuring CHAP Authentication for Your iSCSI Targets.


If the key that you typed is less than 12 characters or more than 16 characters long, an Initiator CHAP secret error dialog box appears.
Choose OK, and then type the key again.



Configure the target with the initiator's secret to complete the mutual CHAP configuration.


Choose the Targets tab.



If the target that you want to configure for CHAP is currently connected, disconnect the target by selecting it and choosing Disconnect.


Select the target that you want to configure for CHAP, and then choose Connect.



In the Connect to Target dialog box, choose Advanced.



In the Advanced Settings dialog box, configure CHAP.



Select Enable CHAP log on.


Type the secret that is required to authenticate the initiator. This secret is the same as the secret typed into the Secret used to Authenticate Initiator box in the Configure CHAP Authentication dialog box. For more information, see Configuring CHAP Authentication for Your iSCSI Targets.


Select Perform mutual authentication.


To apply the changes, choose OK.




In the Connect to Target dialog box, choose OK. 


If you provided the correct secret key, the target shows a status of Connected.



To configure mutual CHAP on a Red Hat Linux client
In this procedure, you configure CHAP in the Linux iSCSI initiator using the same keys that you used to configure CHAP for the volume on the AWS Storage Gateway console.


Ensure that the iSCSI daemon is running and that you have already connected to a target. If you have not completed these two tasks, see Connecting to a Microsoft Windows Client.


Disconnect and remove any existing configuration for the target for which you are about to configure CHAP.


To find the target name and ensure it is a defined configuration, list the saved configurations using the following command.
sudo /sbin/iscsiadm --mode node


Disconnect from the target.
The following command disconnects from the target named myvolume that is defined in the Amazon iSCSI qualified name (IQN). Change the target name and IQN as required for your situation.
sudo /sbin/iscsiadm --mode node --logout GATEWAY_IP:3260,1 iqn.1997-05.com.amazon:myvolume


Remove the configuration for the target.
The following command removes the configuration for the myvolume target.
sudo /sbin/iscsiadm --mode node --op delete --targetname iqn.1997-05.com.amazon:myvolume


Edit the iSCSI configuration file to enable CHAP.


Get the name of the initiator (that is, the client you are using).
The following command gets the initiator name from the /etc/iscsi/initiatorname.iscsi file.
sudo cat /etc/iscsi/initiatorname.iscsi
The output from this command looks like this:
InitiatorName=iqn.1994-05.com.redhat:8e89b27b5b8


Open the /etc/iscsi/iscsid.conf file.


Uncomment the following lines in the file and specify the correct values for username, password, username_in, and password_in.
node.session.auth.authmethod = CHAP
  node.session.auth.username = username
  node.session.auth.password = password
  node.session.auth.username_in = username_in
  node.session.auth.password_in = password_in
For guidance on what values to specify, see the following table.  
[See the AWS documentation website for more details]


Save the changes in the configuration file, and then close the file.


Discover and log in to the target. To do so, follow the steps in Connecting to a Microsoft Windows Client.

