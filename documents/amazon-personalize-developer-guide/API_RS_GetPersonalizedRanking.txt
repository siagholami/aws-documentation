GetPersonalizedRanking
Re-ranks a list of recommended items for the given user. The first item in the list is deemed the most likely item to be of interest to the user.
Note
The solution backing the campaign must have been created using a recipe of type PERSONALIZED_RANKING.
Request Syntax
```
POST /personalize-ranking HTTP/1.1
Content-type: application/json
{
   "campaignArn": "string",
   "context": { 
      "string" : "string" 
   },
   "filterArn": "string",
   "inputList": [ "string" ],
   "userId": "string"
}
```
URI Request Parameters
The request does not use any URI parameters.
Request Body
The request accepts the following data in JSON format.
 campaignArn  
The Amazon Resource Name (ARN) of the campaign to use for generating the personalized ranking.
Type: String
Length Constraints: Maximum length of 256.
Pattern: arn:([a-z\d-]):personalize:.*:.*:. 
Required: Yes
 context  
The contextual metadata to use when getting recommendations. Contextual metadata includes any interaction information that might be relevant when getting a user's recommendations, such as the user's current location or device type.
Type: String to string map
Map Entries: Maximum number of 150 items.
Key Length Constraints: Maximum length of 150.
Key Pattern: [A-Za-z\d_] 
Value Length Constraints: Maximum length of 1000.
Required: No
 filterArn  
The Amazon Resource Name (ARN) of a filter you created to include or exclude items from recommendations for a given user.
Type: String
Length Constraints: Maximum length of 256.
Pattern: arn:([a-z\d-]):personalize:.*:.*:. 
Required: No
 inputList  
A list of items (by itemId) to rank. If an item was not included in the training dataset, the item is appended to the end of the reranked list. The maximum is 500.
Type: Array of strings
Length Constraints: Maximum length of 256.
Required: Yes
 userId  
The user for which you want the campaign to provide a personalized ranking.
Type: String
Length Constraints: Maximum length of 256.
Required: Yes
Response Syntax
```
HTTP/1.1 200
Content-type: application/json
{
   "personalizedRanking": [ 
      { 
         "itemId": "string",
         "score": number
      }
   ],
   "recommendationId": "string"
}
```
Response Elements
If the action is successful, the service sends back an HTTP 200 response.
The following data is returned in JSON format by the service.
 personalizedRanking  
A list of items in order of most likely interest to the user. The maximum is 500.
Type: Array of PredictedItem objects
 recommendationId  
The ID of the recommendation.
Type: String
Errors
InvalidInputException 
Provide a valid value for the field or parameter.
HTTP Status Code: 400
ResourceNotFoundException 
The specified resource does not exist.
HTTP Status Code: 404
See Also
For more information about using this API in one of the language-specific AWS SDKs, see the following:
  AWS Command Line Interface 
  AWS SDK for .NET 
  AWS SDK for C 
  AWS SDK for Go 
  AWS SDK for Java 
  AWS SDK for JavaScript 
  AWS SDK for PHP V3 
  AWS SDK for Python 
  AWS SDK for Ruby V3 