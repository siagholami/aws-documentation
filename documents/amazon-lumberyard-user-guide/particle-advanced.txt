Advanced Particle Techniques

This topic references tools and features that are legacy. If you want to use legacy tools in Lumberyard Editor, disable the CryEntity Removal gem using the Project Configurator or the command line. To learn more about legacy features, see the Lumberyard Legacy Reference.
Use the following advanced techniques in the Particle Editor to emit particles from geometry, create a particle effect that explodes, preview your effects on an animated character, or generate particles from surface properties.
Emitting Particles from Geometry
Do the following to emit particles from the parent geometry.
To emit particles from geometry


Create a parent emitter with a .cgf mesh asset that is assigned in the Geometry input under Particles. For more information, see Creating and Managing Particle Emitters.


Create a new emitter as a child of the first emitter.


On the child emitter, in the emitter attributes, set Spawn Indirection to Parent Start.


Set the AttachType to Render, and the AttachForm to Vertices.


The child's particles spawn from the mesh of its parent.

Note
Use any Attach Type and AttachForm for the intended effect.
Creating Exploding Geometry Particle Effect
Do the following to create a particle effect that instantly spawns exploding chunks.
To create an exploding geometry particle effect


Create an emitter. In the Attributes panel, under Particles, assign a multipart .cgf file to the Geometry input.


Set Geometry in Pieces to the option for your use case: RandomPieces or AllPieces.


Set appropriate values for Gravity, Speed, Rotation Rate, and more to create an exploding effect.


Optionally set Collision parameters for physicalized pieces.


Attaching Particles to Character Animations for Previewing
Do the following to preview the effects on an animated character in your level.
To attach a particle to an animation


In Lumberyard Editor, choose Tools, Asset Browser.


In the Asset Browser, select and drag a .cdf character asset that has animations into the Lumberyard Editor viewport. Close the Asset Browser.


In the Entity Inspector, click Add Component. Under Animation, choose Simple Animation.


Under Simple Animation, click the  button to add an element. Select an animation to play.


Open the Particle Editor and drag the effect that you want to preview into your level.


In the Entity Inspector, click Add Component. Under Animation, choose Attachment.


Under Attachment, click the target entity picker and select your character in the viewport.


In the joint list, select a joint name to which to attach the effect. Select an offset as needed.


In the bottom toolbar, click AI/Physics. Alternatively, press CtrlG to start the animation and preview the effect.


Generating Particles from Surface Properties
Use the properties for an object's material surface to define the event-driven effects that can occur when an object experiences an event. You can specify these events on a render material or on individual pieces or surfaces of a .cgf asset.
Many of the properties define the particle effects that are spawned by events such as walking or a bullet hit. To specify the effect that is spawned when a geometry piece breaks off of an object, set the following parameters in a Lua script:
Name
Specifies the name of the particle effect.
Scale
Multiplies the size of the particle.
Count_scale
Multiplies the particle counts.