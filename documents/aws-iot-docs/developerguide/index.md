# AWS IoT Core Developer Guide

-----
*****Copyright &copy; 2020 Amazon Web Services, Inc. and/or its affiliates. All rights reserved.*****

-----
Amazon's trademarks and trade dress may not be used in 
     connection with any product or service that is not Amazon's, 
     in any manner that is likely to cause confusion among customers, 
     or in any manner that disparages or discredits Amazon. All other 
     trademarks not owned by Amazon are the property of their respective
     owners, who may or may not be affiliated with, connected to, or 
     sponsored by Amazon.

-----
## Contents
+ [What is AWS IoT?](what-is-aws-iot.md)
   + [What AWS IoT can do](aws-iot-solutions.md)
   + [How AWS IoT works](aws-iot-how-it-works.md)
   + [Learn more about AWS IoT](aws-iot-learn-more.md)
+ [Getting started with AWS IoT Core](iot-gs.md)
   + [Set up your AWS account](setting-up.md)
   + [Try the AWS IoT Core interactive demo](interactive-demo.md)
   + [Try the AWS IoT quick connect](iot-quick-start.md)
   + [Explore AWS IoT Core services in hands-on tutorial](iot-gs-first-thing.md)
      + [Create AWS IoT resources](create-iot-resources.md)
      + [Configure your device](configure-device.md)
         + [Create a virtual device with Amazon EC2](creating-a-virtual-thing.md)
         + [Use your Windows or Linux PC or Mac as an AWS IoT device](using-laptop-as-device.md)
         + [Connect a Raspberry Pi or another device](connecting-to-existing-device.md)
         + [Troubleshooting problems with the sample app](gs-device-troubleshoot.md)
   + [View MQTT messages with the AWS IoT MQTT client](view-mqtt-messages.md)
+ [Connecting to AWS IoT Core](connect-to-iot.md)
   + [Connecting to AWS IoT Core service endpoints](iot-connect-service.md)
   + [Connecting devices to AWS IoT](iot-connect-devices.md)
      + [Device communication protocols](protocols.md)
         + [MQTT](mqtt.md)
         + [HTTPS](http.md)
      + [MQTT topics](topics.md)
         + [MQTT message payload](topicdata.md)
         + [Reserved topics](reserved-topics.md)
      + [Configurable endpoints (beta)](iot-custom-endpoints-configurable.md)
         + [Creating and configuring AWS-managed domains](iot-custom-endpoints-configurable-aws.md)
         + [Creating and configuring custom domains](iot-custom-endpoints-configurable-custom.md)
         + [Managing domain configurations](iot-custom-endpoints-managing.md)
+ [AWS IoT Tutorials](iot-tutorials.md)
   + [AWS IoT rules tutorials](iot-rules-tutorial.md)
      + [Creating an Amazon SNS rule](iot-sns-rule.md)
      + [Creating a rule with a DynamoDB action](iot-ddb-rule.md)
      + [Creating a rule with an AWS Lambda action](iot-lambda-rule.md)
   + [Using the AWS IoT Device SDKs on a Raspberry Pi](sdk-tutorials.md)
      + [Using the AWS IoT Device SDK for Embedded C](iot-embedded-c-sdk.md)
      + [Using the AWS IoT Device SDK for JavaScript and node](iot-device-sdk-node.md)
   + [Other AWS IoT tutorials](iot-additional-tutorial.md)
      + [Monitoring soil moisture with AWS IoT and Raspberry Pi](iot-moisture-tutorial.md)
         + [Setting up AWS IoT](iot-moisture-setup.md)
            + [Create the AWS IoT policy](iot-moisture-policy.md)
            + [Create the AWS IoT thing, certificate, and private key](iot-moisture-create-thing.md)
            + [Create an Amazon SNS topic and subscription](iot-moisture-create-sns-topic.md)
            + [Create an AWS IoT rule to send an email](iot-moisture-create-rule.md)
         + [Setting up your Raspberry Pi and moisture sensor](iot-moisture-raspi-setup.md)
+ [Managing devices with AWS IoT](iot-thing-management.md)
   + [How to manage things with the registry](thing-registry.md)
   + [Thing types](thing-types.md)
   + [Static thing groups](thing-groups.md)
   + [Dynamic thing groups](dynamic-thing-groups.md)
+ [Tagging your AWS IoT resources](tagging-iot.md)
   + [Using tags with IAM policies](tagging-iot-iam.md)
   + [Billing groups](tagging-iot-billing-groups.md)
+ [Security in AWS IoT](security.md)
   + [AWS IoT security](iot-security.md)
   + [Authentication](authentication.md)
      + [Server authentication](server-authentication.md)
      + [Client authentication](client-authentication.md)
         + [X.509 client certificates](x509-client-certs.md)
            + [Create AWS IoT client certificates](device-certs-create.md)
            + [Create your own client certificates](device-certs-your-own.md)
               + [Manage your CA certificates](manage-your-CA-certs.md)
                  + [Create a CA certificate](create-your-CA-cert.md)
                  + [Register your CA certificate](register-CA-cert.md)
                  + [Deactivate a CA certificate](deactivate-ca-cert.md)
               + [Create a client certificate using your CA certificate](create-device-cert.md)
            + [Register a client certificate](register-device-cert.md)
               + [Register a client certificate manually](manual-cert-registration.md)
               + [Register a client certificate when the client connects to AWS IoT (just-in-time registration)](auto-register-device-cert.md)
            + [Activate or deactivate a client certificate](activate-or-deactivate-device-cert.md)
            + [Attach a thing or policy to a client certificate](attach-to-cert.md)
            + [Revoke a client certificate](revoke-ca-cert.md)
            + [Transfer a certificate to another account](transfer-cert.md)
         + [IAM users, groups, and roles](iam-users-groups-roles.md)
         + [Amazon Cognito identities](cognito-identities.md)
      + [Custom authentication](custom-authentication.md)
         + [Understanding the custom authentication workflow](custom-authorizer.md)
         + [Creating and managing custom authorizers](config-custom-auth.md)
         + [Connecting to AWS IoT Core by using custom authentication](custom-auth.md)
         + [Troubleshooting your authorizers](custom-auth-troubleshooting.md)
   + [Authorization](iot-authorization.md)
      + [AWS IoT Core policies](iot-policies.md)
         + [AWS IoT Core policy actions](iot-policy-actions.md)
         + [AWS IoT Core action resources](iot-action-resources.md)
         + [AWS IoT Core policy variables](iot-policy-variables.md)
            + [Basic AWS IoT Core policy variables](basic-policy-variables.md)
            + [Thing policy variables](thing-policy-variables.md)
            + [X.509 Certificate AWS IoT Core policy variables](cert-policy-variables.md)
         + [Example AWS IoT policies](example-iot-policies.md)
            + [AWS IoT policy elements](example-iot-policies-elements.md)
            + [Connect policy examples](connect-policy.md)
            + [Publish/Subscribe policy examples](pub-sub-policy.md)
            + [Connect and publish policy examples](connect-and-pub.md)
            + [Certificate policy examples](certificate-policy-examples.md)
            + [Thing policy examples](thing-policy-examples.md)
         + [Authorization with Amazon Cognito identities](cog-iot-policies.md)
      + [Authorizing direct calls to AWS services](authorizing-direct-aws.md)
      + [Cross account access](cross-account-access.md)
   + [Data protection in AWS IoT Core](data-protection.md)
      + [Transport security in AWS IoT](transport-security.md)
      + [Data encryption in AWS IoT](data-encryption.md)
         + [Key management in AWS IoT](key-management.md)
   + [Identity and access management for AWS IoT](security-iam.md)
      + [How AWS IoT works with IAM](security_iam_service-with-iam.md)
         + [IAM policies](iam-policies.md)
      + [AWS IoT identity-based policy examples](security_iam_id-based-policy-examples.md)
      + [Troubleshooting AWS IoT identity and access](security_iam_troubleshoot.md)
   + [Logging and Monitoring](security-logging.md)
   + [Compliance validation for AWS IoT Core](SERVICENAME-compliance.md)
   + [Resilience in AWS IoT Core](disaster-recovery-resiliency.md)
   + [Infrastructure security in AWS IoT](infrastructure-security.md)
   + [Vulnerability analysis and management in AWS IoT Core](vulnerability-analysis-and-management.md)
   + [Security best practices in AWS IoT Core](security-best-practices.md)
+ [Monitoring AWS IoT](monitoring_overview.md)
   + [Configure AWS IoT logging](configure-logging.md)
   + [Monitor AWS IoT alarms and metrics using Amazon CloudWatch](monitoring-cloudwatch.md)
      + [Creating CloudWatch alarms to monitor AWS IoT](creating_alarms.md)
      + [AWS IoT metrics and dimensions](metrics_dimensions.md)
   + [Monitor AWS IoT using CloudWatch Logs](cloud-watch-logs.md)
      + [CloudWatch AWS IoT log entries](cwl-format.md)
   + [Log AWS IoT API calls using AWS CloudTrail](iot-using-cloudtrail.md)
+ [Rules for AWS IoT](iot-rules.md)
   + [Granting AWS IoT the required access](iot-create-role.md)
   + [Pass role permissions](pass-role.md)
   + [Creating an AWS IoT rule](iot-create-rule.md)
   + [Viewing your rules](iot-view-rules.md)
   + [Deleting a rule](iot-delete-rule.md)
   + [AWS IoT rule actions](iot-rule-actions.md)
      + [CloudWatch alarms](cloudwatch-alarms-rule-action.md)
      + [CloudWatch Logs](cloudwatch-logs-rule-action.md)
      + [CloudWatch metrics](cloudwatch-metrics-rule-action.md)
      + [DynamoDB](dynamodb-rule-action.md)
      + [DynamoDBv2](dynamodb-v2-rule-action.md)
      + [Elasticsearch](elasticsearch-rule-action.md)
      + [HTTPS](https-rule-action.md)
      + [IoT Analytics](iotanalytics-rule-action.md)
      + [IoT Events](iotevents-rule-action.md)
      + [IoT SiteWise](iotsitewise-rule-action.md)
      + [Kinesis Data Firehose](kinesis-firehose-rule-action.md)
      + [Kinesis Data Streams](kinesis-rule-action.md)
      + [Lambda](lambda-rule-action.md)
      + [Republish](republish-rule-action.md)
      + [S3](s3-rule-action.md)
      + [Salesforce IoT](salesforce-iot-rule-action.md)
      + [SNS](sns-rule-action.md)
      + [SQS](sqs-rule-action.md)
      + [Step Functions](stepfunctions-rule-action.md)
   + [Error handling (error action)](rule-error-handling.md)
   + [Working with topic rule destinations](rule-destination.md)
      + [Certificate authorities supported by HTTPS endpoints in topic rule destinations](topic-rule-destination-ca-list.md)
   + [Reducing messaging costs with basic ingest](iot-basic-ingest.md)
   + [AWS IoT SQL reference](iot-sql-reference.md)
      + [SELECT clause](iot-sql-select.md)
      + [FROM clause](iot-sql-from.md)
      + [WHERE clause](iot-sql-where.md)
      + [Data types](iot-sql-data-types.md)
      + [Operators](iot-sql-operators.md)
      + [Functions](iot-sql-functions.md)
      + [Literals](iot-sql-literals.md)
      + [Case statements](iot-sql-case.md)
      + [JSON extensions](iot-sql-json.md)
      + [Substitution templates](iot-substitution-templates.md)
      + [Nested object queries](iot-sql-nested-queries.md)
      + [Working with binary payloads](binary-payloads.md)
      + [SQL versions](iot-rule-sql-version.md)
+ [AWS IoT Device Shadow service](iot-device-shadows.md)
   + [Using shadows in devices](device-shadow-comms-device.md)
   + [Using shadows in apps and services](device-shadow-comms-app.md)
   + [Simulating Device Shadow service communications](using-device-shadows.md)
   + [Interacting with shadows](device-shadow-data-flow.md)
   + [Device Shadow REST API](device-shadow-rest-api.md)
   + [Device Shadow MQTT topics](device-shadow-mqtt.md)
   + [Device Shadow service documents](device-shadow-document.md)
   + [Device Shadow error messages](device-shadow-error-messages.md)
+ [Jobs](iot-jobs.md)
   + [Managing jobs](create-manage-jobs.md)
      + [Creating and managing jobs (console)](manage-job-console.md)
      + [Creating and managing jobs (CLI)](manage-job-cli.md)
   + [Devices and jobs](jobs-devices.md)
   + [Using the AWS IoT jobs APIs](jobs-api.md)
   + [Job rollout and abort configuration](job-rollout-abort.md)
   + [Job limits](job-limits.md)
+ [AWS IoT secure tunneling](secure-tunneling.md)
   + [Secure tunneling concepts](secure-tunneling-concepts.md)
   + [Secure tunneling tutorials](secure-tunnel-tutorial.md)
      + [AWS IoT Secure Tunneling demo](secure-tunneling-demo.md)
      + [AWS IoT Secure Tunneling tutorial](secure-tunneling-tutorial.md)
   + [Secure tunnel lifecycle](tunnel-lifecycle.md)
   + [Controlling access to tunnels](tunnel-access.md)
   + [Local proxy](local-proxy.md)
   + [IoT agent snippet](agent-snippet.md)
   + [Configuring a remote device](configure-remote-device.md)
+ [Device provisioning](iot-provision.md)
   + [Provisioning devices that don't have device certificates using fleet provisioning](provision-wo-cert.md)
   + [Provisioning devices that have device certificates](provision-w-cert.md)
      + [Single thing provisioning](single-thing-provisioning.md)
      + [Just-in-time provisioning](jit-provisioning.md)
      + [Bulk registration](bulk-provisioning.md)
   + [Provisioning templates](provision-template.md)
   + [Pre-provisioning hooks](pre-provisioning-hook.md)
   + [Device provisioning MQTT API](fleet-provision-api.md)
+ [Fleet indexing service](iot-indexing.md)
   + [Managing thing indexing](managing-index.md)
   + [Managing thing group indexing](thinggroup-index.md)
   + [Querying for aggregate data](index-aggregate.md)
   + [Query syntax](query-syntax.md)
   + [Example thing queries](example-queries.md)
   + [Example thing group queries](example-thinggroup-queries.md)
+ [AWS IoT Device Defender](device-defender.md)
   + [Getting started with AWS IoT Device Defender](dd-tutorials.md)
      + [Setting up](dd-setting-up.md)
      + [Audit guide](audit-tutorial.md)
   + [Examples](dd-examples.md)
      + [Customize when and how you view AWS IoT Device Defender audit results](dd-suppressions-example.md)
   + [Audit](device-defender-audit.md)
      + [Audit checks](device-defender-audit-checks.md)
         + [CA certificate revoked but device certificates still active](audit-chk-revoked-ca-cert.md)
         + [Device certificate shared](audit-chk-device-cert-shared.md)
         + [Device certificate key quality](audit-chk-device-cert-key-quality.md)
         + [CA certificate key quality](audit-chk-ca-cert-key-quality.md)
         + [Unauthenticated Cognito role overly permissive](audit-chk-unauth-cognito-role-permissive.md)
         + [Authenticated Cognito role overly permissive](audit-chk-auth-cognito-role-permissive.md)
         + [AWS IoT policies overly permissive](audit-chk-iot-policy-permissive.md)
         + [Role alias overly permissive](audit-chk-iot-role-alias-permissive.md)
         + [Role alias allows access to unused services](audit-chk-role-alias-unused-svcs.md)
         + [CA certificate expiring](audit-chk-ca-cert-approaching-expiration.md)
         + [Conflicting MQTT client IDs](audit-chk-conflicting-client-ids.md)
         + [Device certificate expiring](audit-chk-device-cert-approaching-expiration.md)
         + [Revoked device certificate still active](audit-chk-revoked-device-cert.md)
         + [Logging disabled](audit-chk-logging-disabled.md)
      + [Audit commands](AuditCommands.md)
      + [Mitigation actions](device-defender-mitigation-actions.md)
      + [Mitigation action commands](mitigation-action-commands.md)
      + [Audit finding suppressions](audit-finding-suppressions.md)
   + [Detect](device-defender-detect.md)
      + [Concepts](detect-concepts.md)
      + [Behaviors](detect-behaviors.md)
      + [Metrics](detect-metrics.md)
         + [Scoping metrics in security profiles using dimensions](scoping-security-behavior.md)
         + [Sending metrics from devices](DetectMetricsMessages.md)
      + [Permissions](device-defender-detect-permissions.md)
      + [Detect commands](detect-commands.md)
         + [AttachSecurityProfile](dd-api-iot-AttachSecurityProfile.md)
         + [CreateDimension](dd-api-iot-CreateDimension.md)
         + [CreateSecurityProfile](dd-api-iot-CreateSecurityProfile.md)
         + [DeleteDimension](dd-api-iot-DeleteDimension.md)
         + [DeleteSecurityProfile](dd-api-iot-DeleteSecurityProfile.md)
         + [DescribeDimension](dd-api-iot-DescribeDimension.md)
         + [DescribeSecurityProfile](dd-api-iot-DescribeSecurityProfile.md)
         + [DetachSecurityProfile](dd-api-iot-DetachSecurityProfile.md)
         + [ListActiveViolations](dd-api-iot-ListActiveViolations.md)
         + [ListDimensions](dd-api-iot-ListDimensions.md)
         + [ListSecurityProfiles](dd-api-iot-ListSecurityProfiles.md)
         + [ListSecurityProfilesForTarget](dd-api-iot-ListSecurityProfilesForTarget.md)
         + [ListTargetsForSecurityProfile](dd-api-iot-ListTargetsForSecurityProfile.md)
         + [ListViolationEvents](dd-api-iot-ListViolationEvents.md)
         + [UpdateDimension](dd-api-iot-UpdateDimension.md)
         + [UpdateSecurityProfile](dd-api-iot-UpdateSecurityProfile.md)
         + [ValidateSecurityProfileBehaviors](dd-api-iot-ValidateSecurityProfileBehaviors.md)
      + [How to use AWS IoT Device Defender detect](detect-HowToHowTo.md)
   + [Device agent integration with AWS IoT Greengrass](device-defender-DetectMetricsGreengrassIntegration.md)
   + [Security best practices for device agents](device-defender-DetectMetricsMessagesBestPract.md)
+ [Event messages](iot-events.md)
   + [Registry events](registry-events.md)
   + [Jobs events](events-jobs.md)
   + [Lifecycle events](life-cycle-events.md)
+ [Alexa Voice Service (AVS) Integration for AWS IoT](avs-integration-aws-iot.md)
   + [Getting started with Alexa Voice Service (AVS) Integration for AWS IoT on an NXP device](avs-integration-aws-iot-gs-nxp.md)
+ [AWS IoT Device and Mobile SDKs](iot-sdks.md)
+ [Troubleshooting AWS IoT](iot_troubleshooting.md)
   + [Diagnosing connectivity issues](diagnosing-connectivity-issues.md)
   + [Diagnosing rules issues](diagnosing-rules.md)
   + [Diagnosing problems with shadows](diagnosing-shadows.md)
   + [Diagnosing Salesforce IoT input stream action issues](diagnosing-salesforce.md)
   + [Troubleshooting aggregation queries for the fleet indexing service](aggregation-troubleshooting.md)
   + [AWS IoT Device Defender troubleshooting guide](device-defender-troubleshoot.md)
   + [AWS IoT errors](iot-errors.md)
+ [AWS IoT quotas](limits-iot.md)