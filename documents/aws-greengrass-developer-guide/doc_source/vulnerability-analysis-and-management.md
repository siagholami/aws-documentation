# Configuration and vulnerability analysis in AWS IoT Greengrass<a name="vulnerability-analysis-and-management"></a>

IoT environments can consist of large numbers of devices that have diverse capabilities, are long\-lived, and are geographically distributed\. These characteristics make device setup complex and error\-prone\. And because devices are often constrained in computational power, memory, and storage capabilities, this limits the use of encryption and other forms of security on the devices themselves\. Also, devices often use software with known vulnerabilities\. These factors make IoT devices an attractive target for hackers and make it difficult to secure them on an ongoing basis\.

AWS IoT Device Defender addresses these challenges by providing tools to identify security issues and deviations from best practices\. You can use AWS IoT Device Defender to analyze, audit, and monitor connected devices to detect abnormal behavior, and mitigate security risks\. AWS IoT Device Defender can audit devices to ensure they adhere to security best practices and detect abnormal behavior on devices\. This makes it possible to enforce consistent security policies across your devices and respond quickly when devices are compromised\. In connections with AWS IoT Core, AWS IoT Greengrass generates [predictable client IDs](gg-core.md#connection-client-id) that you can use with AWS IoT Device Defender features\. For more information, see [AWS IoT Device Defender](https://docs.aws.amazon.com/iot/latest/developerguide/device-defender.html) in the *AWS IoT Core Developer Guide*\.

In AWS IoT Greengrass environments, you should be aware of the following considerations:
+ It's your reponsibility to secure your physical devices, the file system on your devices, and the local network\.
+ AWS IoT Greengrass doesn't enforce network isolation for user\-defined Lambda functions, whether or not they run in a [Greengrass container](lambda-group-config.md#lambda-containerization-considerations)\. Therefore, it's possible for Lambda functions to communicate with any other process running in the system or outside over network\.

If you lose control of a Greengrass core device and you want to prevent connected devices from transmitting data to the core, do the following:<a name="make-devices-distrust-core"></a>

1. Remove the Greengrass core from the Greengrass group\.

1. Rotate the group CA certificate\. In the AWS IoT console, you can rotate the CA certificate on the group's **Settings** page\. In the AWS IoT Greengrass API, you can use the [CreateGroupCertificateAuthority](https://docs.aws.amazon.com/greengrass/latest/apireference/creategroupcertificateauthority-post.html) action\.

   We also recommend using full disk encryption if the hard drive of your core device is vulnerable to theft\.