AWS::S3::BucketPolicy
Applies an Amazon S3 bucket policy to an Amazon S3 bucket. If you are using an identity other than the root user of the AWS account that owns the bucket, the calling identity must have the PutBucketPolicy permissions on the specified bucket and belong to the bucket owner's account in order to use this operation.
Important
Only one bucket policy should be applied to a bucket.
If you don't have PutBucketPolicy permissions, Amazon S3 returns a 403 Access Denied error. If you have the correct permissions, but you're not using an identity that belongs to the bucket owner's account, Amazon S3 returns a 405 Method Not Allowed error.
Important
 As a security precaution, the root user of the AWS account that owns a bucket can always use this operation, even if the policy explicitly denies the root user the ability to perform this action. 
For more information about bucket policies, see Using Bucket Policies and User Policies.
The following operations are related to PutBucketPolicy:
  CreateBucket 
  DeleteBucket 
Syntax
To declare this entity in your AWS CloudFormation template, use the following syntax:
JSON
{
  "Type" : "AWS::S3::BucketPolicy",
  "Properties" : {
      "[Bucket](#aws-properties-s3-policy-bucket)" : String,
      "[PolicyDocument](#aws-properties-s3-policy-policydocument)" : Json
    }
}
YAML
Type: AWS::S3::BucketPolicy
Properties: 
  [Bucket](#aws-properties-s3-policy-bucket): String
  [PolicyDocument](#aws-properties-s3-policy-policydocument): Json
Properties
Bucket 
The name of the Amazon S3 bucket to which the policy applies.
Required: Yes
Type: String
Update requires: Replacement
PolicyDocument 
 A policy document containing permissions to add to the specified bucket. For more information, see Access Policy Language Overview in the Amazon Simple Storage Service Developer Guide. 
Required: Yes
Type: Json
Update requires: No interruption
Examples
Bucket policy that allows GET requests from specific referers
The following sample is a bucket policy that is attached to the AWSDOC-EXAMPLE-BUCKET bucket and allows GET requests that originate from www.example.com and example.net: 
JSON
"SampleBucketPolicy" : {
  "Type" : "AWS::S3::BucketPolicy",
  "Properties" : {
    "Bucket" : {"Ref" : "AWSDOC-EXAMPLE-BUCKET"},
    "PolicyDocument": {
      "Statement":[{
        "Action":["s3:GetObject"],
        "Effect":"Allow",
        "Resource": { "Fn::Join" : ["", ["arn:aws:s3:::", { "Ref" : "AWSDOC-EXAMPLE-BUCKET" } , "/*" ]]},
        "Principal":"*",
        "Condition":{
          "StringLike":{
            "aws:Referer":[
              "http://www.example.com/*",
              "http://example.net/*"
            ]
          }
        }
      }]
    }
  }
}
YAML
SampleBucketPolicy: 
  Type: AWS::S3::BucketPolicy
  Properties: 
    Bucket: 
      Ref: "AWSDOC-EXAMPLE-BUCKET"
    PolicyDocument: 
      Statement: 
        - 
          Action: 
            - "s3:GetObject"
          Effect: "Allow"
          Resource: 
            Fn::Join: 
              - ""
              - 
                - "arn:aws:s3:::"
                - 
                  Ref: "AWSDOC-EXAMPLE-BUCKET"
                - "/*"
          Principal: "*"
          Condition: 
            StringLike: 
              aws:Referer: 
                - "http://www.example.com/*"
                - "http://example.net/*"