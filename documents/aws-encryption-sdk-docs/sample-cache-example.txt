Data key caching example
This example uses data key caching with a local cache to speed up an application in which data generated by multiple devices is encrypted and stored in different Regions.
In this scenario, multiple data producers generate data, encrypt it, and write to a Kinesis stream in each Region. AWS Lambda functions (consumers) decrypt the streams and write plaintext data to a DynamoDB table in the Region. Data producers and consumers use the AWS Encryption SDK and an AWS KMS master key provider. To reduce calls to KMS, each producer and consumer has their own local cache.
You can find the source code for these examples in Java and Python. The sample also includes a AWS CloudFormation template that defines the resources for the samples.

Local cache results
The following table shows that a local cache reduces the total calls to KMS (per second per Region) in this example to 1% of its original value.
Producer requests
[See the AWS documentation website for more details]
Consumer requests
[See the AWS documentation website for more details]