.. Copyright 2010-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.

   This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0
   International License (the "License"). You may not use this file except in compliance with the
   License. A copy of the License is located at http://creativecommons.org/licenses/by-nc-sa/4.0/.

   This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
   either express or implied. See the License for the specific language governing permissions and
   limitations under the License.

#######
Logging
#######

.. meta::
    :description:
        How to use AWS SDK for C++ logging to help debug your application.
    :keywords: AWS SDK for C++, logging, error, debugging
    
The |sdk-cpp| includes logging support that you can configure. When initializing the logging system,
you can control the filter level and the logging target (file with a name that has a configurable
prefix or a stream). The log file generated by the prefix option rolls over once per hour to allow
for archiving or deleting log files.

.. code-block:: cpp

    Aws::Utils::Logging::InitializeAWSLogging(
        Aws::MakeShared<Aws::Utils::Logging::DefaultLogSystem>(
            "RunUnitTests", Aws::Utils::Logging::LogLevel::Trace, "aws_sdk_"));

If you don't call :functionname:`InitializeAWSLogging` in your program, the SDK will not do any
logging. If you do use logging, don't forget to shut it down at the end of your program by calling
:functionname:`ShutdownAWSLogging`:

.. code-block:: cpp

    Aws::Utils::Logging::ShutdownAWSLogging();

**Example integration test with logging**

.. code-block:: cpp

    #include <aws/external/gtest.h>

    #include <aws/core/utils/memory/stl/AWSString.h>
    #include <aws/core/utils/logging/DefaultLogSystem.h>
    #include <aws/core/utils/logging/AWSLogging.h>

    #include <iostream>

    int main(int argc, char** argv)
    {
        Aws::Utils::Logging::InitializeAWSLogging(
            Aws::MakeShared<Aws::Utils::Logging::DefaultLogSystem>(
                "RunUnitTests", Aws::Utils::Logging::LogLevel::Trace, "aws_sdk_"));
        ::testing::InitGoogleTest(&argc, argv);
        int exitCode = RUN_ALL_TESTS();
        Aws::Utils::Logging::ShutdownAWSLogging();
        return exitCode;
    }

