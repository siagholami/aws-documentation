Client certificate revocation lists
You can use client certificate revocation lists to blacklist specific client certificates. Blacklisting clients revokes their access to a Client VPN endpoint.
Note
For more information about generating the server and client certificates and keys, see Mutual authentication
Topics
 Generate a client certificate revocation list
 Import a client certificate revocation list
 Export a client certificate revocation list
Generate a client certificate revocation list

[ Linux/macOS ]
In the following procedure, you generate a client certificate revocation list using the OpenVPN easy-rsa command line utility.
To generate a client certificate revocation list using OpenVPN easy-rsa

Clone the OpenVPN easy-rsa repo to your local computer.

$ git clone https://github.com/OpenVPN/easy-rsa.git

Navigate into the easy-rsa/easyrsa3 folder in your local repo.

$ cd easy-rsa/easyrsa3

Revoke the client certificate and generate the client revocation list.

$ ./easyrsa revoke client_certificate_name
   $ ./easyrsa gen-crl
Type yes when prompted.

[ Windows ]
The following procedure uses the OpenVPN software to generate a client revocation list. It assumes that you followed the steps for using the OpenVPN software to generate the client and server certificates and keys.
To generate a client certificate revocation list

Open a command prompt and navigate to the OpenVPN directory.

C:\> cd \Program Files\OpenVPN\easy-rsa

Run the vars.bat file.

C:\> vars

Revoke the client certificate and generate the client revocation list.

C:\> revoke-full client_certificate_name
   C:\> more crl.pem

Import a client certificate revocation list
You must have a client certificate revocation list file to import. For more information about generating a client certificate revocation list, see Generate a client certificate revocation list.
You can import a client certificate revocation list using the console and the AWS CLI.
To import a client certificate revocation list (console)


Open the Amazon VPC console at https://console.aws.amazon.com/vpc/.


In the navigation pane, choose Client VPN Endpoints.


Select the Client VPN endpoint for which to import the client certificate revocation list.


Choose Actions, and choose Import Client Certificate CRL.


For Certificate Revocation List, enter the contents of the client certificate revocation list file, and choose Import CRL.


To import a client certificate revocation list (AWS CLI)
Use the import-client-vpn-client-certificate-revocation-list command.
$ aws ec2 import-client-vpn-client-certificate-revocation-list --certificate-revocation-list file:path_to_CRL_file --client-vpn-endpoint-id endpoint_id --region region
Export a client certificate revocation list
You can export client certificate revocation lists using the console and the AWS CLI.
To export a client certificate revocation list (console)


Open the Amazon VPC console at https://console.aws.amazon.com/vpc/.


In the navigation pane, choose Client VPN Endpoints.


Select the Client VPN endpoint for which to export the client certificate revocation list.


Choose Actions, choose Export Client Certificate CRL, and choose Yes, Export.


To export a client certificate revocation (AWS CLI)
Use the export-client-vpn-client-certificate-revocation-list command.