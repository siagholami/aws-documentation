STL_SCHEMA_QUOTA_VIOLATIONS
Records the occurrence, timestamp, XID, and other useful information when a schema quota is exceeded.
Superusers can see all the records. Schema owners can only see records related to the schemas they own.
Table columns
[See the AWS documentation website for more details]
Sample queries
The following query shows the result of quota violation:
SELECT userid, TRIM(SCHEMA_NAME) "schema_name", quota, disk_usage, disk_usage_pct, timestamp FROM
stl_schema_quota_violations WHERE SCHEMA_NAME = 'sales_schema' ORDER BY timestamp DESC;
This query returns the following sample output for the specified schema:
userid | schema_name  | quota | disk_usage | disk_usage_pct |timestamp
------------------------------------------------------------------------------------
104    | sales_schema | 2048  | 2798       |  136.62        | 2020-04-20 20:09:25.494723
(1 row)