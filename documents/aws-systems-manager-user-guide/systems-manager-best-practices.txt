Use cases and best practices
This topic lists common use cases and best practices for AWS Systems Manager capabilities. If available, this topic also includes links to relevant blog posts and technical documentation.
Note
The title of each section here is an active link to the corresponding section in the technical documentation.
Automation
 Create self-service runbooks for infrastructure as Automation documents.
 Use Automation to simplify creating AMIs from the AWS Marketplace or custom AMIs, using public SSM documents or by authoring your own workflows.
 Build and maintain AMIs using the AWS-UpdateLinuxAmi and AWS-UpdateWindowsAmi Automation documents, or using custom Automation documents that you create.
Inventory
 Use Systems Manager Inventory with AWS Config to audit your application configurations over time.
Maintenance Windows
 Define a schedule to perform potentially disruptive actions on your instances such as OS patching, driver updates, or software installations.
 For information on the differences between State Manager and Maintenance Windows, see Choosing between State Manager and Maintenance Windows.
Parameter Store
 Use Parameter Store to centrally manage global configuration settings.
 Use Parameter Store to encrypt and manage secrets by using AWS Key Management Service.
 Reference AWS Secrets Manager secrets from Parameter Store parameters.
 Use Parameter Store with ECS task definitions to store secrets.
Patch Manager
 Use patch manager to roll out patches at scale and increase fleet compliance visibility across your instances.
Run Command
 Manage Instances at Scale without SSH Access Using EC2 Run Command.
 Audit all API calls made by on or on behalf of Run Command using AWS CloudTrail.
 When you run a command in Run Command, do not include any sensitive information formatted as plaintext, such as passwords, configuration data, or other secrets. All Systems Manager API activity in your account is logged in an Amazon S3 bucket, in AWS CloudTrail logs. This means that any user with access to that S3 bucket can view the plaintext values of those secrets. For this reason, we strongly recommend creating and using SecureString parameters to encrypt the sensitive data you use in your Systems Manager operations.
For more information, see SecureString parameters.
Note
By default, the log files delivered by CloudTrail to your bucket are encrypted by Amazon server-side encryption with Amazon S3-managed encryption keys (SSE-S3). To provide a security layer that is directly manageable, you can instead use server-side encryption with AWS KMS–managed keys (SSE-KMS) for your CloudTrail log files.
For more information, see Encrypting CloudTrail Log Files with AWS KMS–Managed Keys (SSE-KMS) in the AWS CloudTrail User Guide.
 Use the targets and rate control features in Run Command to perform a staged command execution.
 Use fine-grained access permissions for Run Command (and all Systems Manager capabilities) by using AWS Identity and Access Management (IAM) policies.
State Manager
 Update SSM Agent at least once a month using the pre-configured AWS-UpdateSSMAgent document.
 Bootstrap EC2 Instances on launch using EC2Config for Windows.
 (Windows) Upload the PowerShell or DSC module to Amazon S3, and use AWS-InstallPowerShellModule.
 Use Amazon EC2 tags to create application groups for your instances. And then target instances using the Targets parameter instead of specifying individual instance IDs.
 Automatically remediate findings generated by Amazon Inspector by using Systems Manager.
 Use a centralized configuration repository for all of your SSM documents, and share documents across your organization.
 For information on the differences between State Manager and Maintenance Windows, see Choosing between State Manager and Maintenance Windows.
Managed instances
 Systems Manager requires accurate time references in order to perform its operations. If your instance's date and time are not set correctly, they may not match the signature date of your API requests. In some cases, this will lead to errors or incomplete functionality. For example, instances with incorrect time settings will not be included in your lists of managed instances.
For information on setting the time on your instances, see the following topics: 
    Setting the Time for Your Linux Instance
    Setting the Time for a Windows Instance