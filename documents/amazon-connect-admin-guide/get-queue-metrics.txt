Contact block: Get queue metrics
Contact flow types
You can use this block in the following contact flow types:
 All flows
Description

Retrieves the following real-time metrics from a queue so you can make routing decisions. If there is no current activity in your contact center, nothing is returned for these metrics. 
Queue name 
Queue ARN. 
Contacts in queue
Oldest contact in queue
Agents online
Agents available
Agents staffed
Agents after contact work
Agents busy
Agents missed (Agent non-response)
Agents non-productive
You can choose to return metrics by channel, for example, voice or chat. You can also filter by queue or agent. These options enable you to know how many chat and voice contacts are in a queue and if you have agents available to handle those contacts. 
You can route contacts based on queue status, such as number of contacts in queue or agents available. Queue metrics are aggregated across all channels and are returned as attributes. The current queue is used by default.
After a Get queue metrics block, use a Check contact attributes to check metric values and define routing logic based on them, such as number of contacts in a queue, number of available agents, and oldest contact in a queue. 

Properties

You can retrieve metrics by channel, and/or by queue or agent.
 If you don't specify a channel, it returns metrics for all channels. 
 If you don't specify a queue, it returns metrics for the current queue.
 Dynamic attributes can only return metrics for one channel. 
For example, if you choose the following settings, Get queue metrics would return metrics for only the BasicQueue, filtered to include only chat contacts. 

Configuration tips
Specifying a channel in the Set contact attributes block
Dynamic attributes can only return metrics for one channel.
Before you use dynamic attributes in the Get queue metrics block, you need to set the attributes in the Set contact attributes block, and specify which channel.
When you set a channel dynamically using text, as shown in the following image, for the attribute value enter Voice or Chat. This value is not case-sensitive. 

Using the Check contact attributes block after the Get queue metrics block
After a Get queue metrics block, add a Check contact attributes block to branch based on the returned metrics. Use the following steps:


After Get queue metrics, add a Check contact attributes block.


In the Check contact attributes block, set Attribute to check to Queue metrics.


In the Attributes dropdown box, you'll see that the following queue metrics are returned by the Get queue metrics block. Choose the metric that you want to use for the routing decision. 



Configured block
When this block is configured, it looks similar to the following image:

Scenarios
See these topics for scenarios that use this block:
 Checking attribute values in a Check contact attributes block