Values for failover alias records
When you create failover alias records, you specify the following values.
For information, see the following topics:
 For information about creating failover records in a private hosted zone, see Configuring failover in a private hosted zone.
 For information about alias records, see Choosing between alias and non-alias records.
Topics
 Name
 Type
 Alias
 Alias target
 Alias hosted zone ID
 Routing policy
 Failover record type
 Set ID
 Evaluate target health
 Associate with health Check/Health check to associate
Name
Enter the name of the domain or subdomain that you want to route traffic for. The default value is the name of the hosted zone. 
Note
If you're creating a record that has the same name as the hosted zone, don't enter a value (for example, an @ symbol) in the Name field. 
Enter the same name for both of the records in the group of failover records. 
CNAME records
If you're creating a record that has a value of CNAME for Type, the name of the record can't be the same as the name of the hosted zone.
Aliases to CloudFront distributions and Amazon S3 buckets
The value that you specify depends in part on the AWS resource that you're routing traffic to:
 CloudFront distribution – Your distribution must include an alternate domain name that matches the name of the record. For example, if the name of the record is acme.example.com, your CloudFront distribution must include acme.example.com as one of the alternate domain names. For more information, see Using alternate domain names (CNAMEs) in the Amazon CloudFront Developer Guide. 
 Amazon S3 bucket – The name of the record must match the name of your Amazon S3 bucket. For example, if the name of your bucket is acme.example.com, the name of this record must also be acme.example.com.
In addition, you must configure the bucket for website hosting. For more information, see Configure a bucket for website hosting in the Amazon Simple Storage Service Developer Guide. 
Special characters
For information about how to specify characters other than a-z, 0-9, and - (hyphen) and how to specify internationalized domain names, see DNS domain name format.
Wildcard characters
You can use an asterisk (*) character in the name. DNS treats the * character either as a wildcard or as the * character (ASCII 42), depending on where it appears in the name. For more information, see Using an asterisk (*) in the names of hosted zones and records.
Type
The DNS record type. For more information, see Supported DNS record types.
Select the applicable value based on the AWS resource that you're routing traffic to. Select the same value for both the primary and secondary failover records:
API Gateway custom regional API or edge-optimized API
Select A — IPv4 address.
Amazon VPC interface endpoints
Select A — IPv4 address.
CloudFront distribution
Select A — IPv4 address.
If IPv6 is enabled for the distribution, create two records, one with a value of A — IPv4 address for Type, and one with a value of AAAA — IPv6 address.
Elastic Beanstalk environment that has regionalized subdomains
Select A — IPv4 address
ELB load balancer
Select A — IPv4 address or AAAA — IPv6 address
Amazon S3 bucket
Select A — IPv4 address
Another record in this hosted zone
Select the type of the record that you're creating the alias for. All types are supported except NS and SOA.
If you're creating an alias record that has the same name as the hosted zone (known as the zone apex), you can't route traffic to a record for which the value of Type is CNAME. This is because the alias record must have the same type as the record you're routing traffic to, and creating a CNAME record for the zone apex isn't supported even for an alias record. 
Alias
Select Yes. 
Note
When you create primary and secondary failover records, you can optionally create one failover and one failover alias record that have the same values for Name and Type. If you mix failover and failover alias records, either one can be the primary record. 
Alias target
The value that you choose from the list or that you type in the field depends on the AWS resource that you're routing traffic to.
Important
If you used the same AWS account to create your hosted zone and the resource that you're routing traffic to, and if your resource doesn't appear in the Alias Target list, check the following:
Confirm that you chose a supported value for Type. Supported values are specific to the resource that you're routing traffic to. For example, to route traffic to an S3 bucket, you must choose A — IPv4 address for Type.
Confirm that the account has the IAM permissions that are required to list the applicable resources. For example, for CloudFront distributions to appear in the Alias Target list, the account must have permission to perform the following action: cloudfront:ListDistributions.
For an example IAM policy, see Permissions required to use the Amazon Route 53 console.
If you used different AWS accounts to create the hosted zone and the resource, the Alias Target list doesn't display your resource. See the following documentation for your resource type to determine what value to type in Alias Target.
API Gateway custom regional APIs and edge-optimized APIs
For API Gateway custom regional APIs and edge-optimized APIs, do one of the following:
 If you used the same account to create your Route 53 hosted zone and your API – Choose Alias Target, and then choose an API from the list. If you have a lot of APIs, you can enter the first few characters of the API endpoint to filter the list.
Note
The name of this record must match a custom domain name for your API, such as api.example.com.
 If you used different accounts to create your Route 53 hosted zone and your API – Enter the API endpoint for the API, such as api.example.com.
If you used one AWS account to create the current hosted zone and a different account to create an API, the API won't appear in the Alias Targets list under API Gateway APIs.
If you used one account to create the current hosted zone and one or more different accounts to create all of your APIs, the Alias Targets list shows No Targets Available under API Gateway APIs.
CloudFront Distributions
For CloudFront distributions, do one of the following:
 If you used the same account to create your Route 53 hosted zone and your CloudFront distribution – Choose Alias Target and choose a distribution from the list. If you have a lot of distributions, you can enter the first few characters of the domain name for your distribution to filter the list.
If your distribution doesn't appear in the list, note the following:
   The name of this record must match an alternate domain name in your distribution.
   If you just added an alternate domain name to your distribution, it may take 15 minutes for your changes to propagate to all CloudFront edge locations. Until changes have propagated, Route 53 can't know about the new alternate domain name.
 If you used different accounts to create your Route 53 hosted zone and your distribution – Enter the CloudFront domain name for the distribution, such as d111111abcdef8.cloudfront.net.
If you used one AWS account to create the current hosted zone and a different account to create a distribution, the distribution will not appear in the Alias Targets list.
If you used one account to create the current hosted zone and one or more different accounts to create all of your distributions, the Alias Targets list shows No Targets Available under CloudFront Distributions.
Do not route queries to a CloudFront distribution that has not propagated to all edge locations, or your users won't be able to access the applicable content. 
Your CloudFront distribution must include an alternate domain name that matches the name of the record. For example, if the name of the record is acme.example.com, your CloudFront distribution must include acme.example.com as one of the alternate domain names. For more information, see Using alternate domain names (CNAMEs) in the Amazon CloudFront Developer Guide.
For failover alias records, you can't specify a CloudFront distribution for both the primary and secondary records. A distribution must include an alternate domain name that matches the name of the record. However, the primary and secondary records have the same name, and you can't include the same alternate domain name in more than one distribution.
If IPv6 is enabled for the distribution, create two records, one with a value of A — IPv4 address for Type, and one with a value of AAAA — IPv6 address.
Elastic Beanstalk environments that have regionalized subdomains
If the domain name for your Elastic Beanstalk environment includes the region that you deployed the environment in, you can create an alias record that routes traffic to the environment. For example, the domain name my-environment.us-west-2.elasticbeanstalk.com is a regionalized domain name.
For environments that were created before early 2016, the domain name doesn't include the region. To route traffic to these environments, you must create a CNAME record instead of an alias record. Note that you can't create a CNAME record for the root domain name. For example, if your domain name is example.com, you can create a record that routes traffic for acme.example.com to your Elastic Beanstalk environment, but you can't create a record that routes traffic for example.com to your Elastic Beanstalk environment.
For Elastic Beanstalk environments that have regionalized subdomains, do one of the following:
 If you used the same account to create your Route 53 hosted zone and your Elastic Beanstalk environment – Choose Alias Target, and then choose an environment from the list. If you have a lot of environments, you can enter the first few characters of the CNAME attribute for the environment to filter the list.
 If you used different accounts to create your Route 53 hosted zone and your Elastic Beanstalk environment – Enter the CNAME attribute for the Elastic Beanstalk environment.
ELB Load Balancers
For ELB load balancers, do one of the following:
 If you used the same account to create your Route 53 hosted zone and your load balancer – Choose Alias Target and choose a load balancer from the list. If you have a lot of load balancers, you can enter the first few characters of the DNS name to filter the list.
 If you used different accounts to create your Route 53 hosted zone and your load balancer – Enter the value that you got in the procedure Getting the DNS name for an ELB load balancer.
If you used one AWS account to create the current hosted zone and a different account to create a load balancer, the load balancer will not appear in the Alias Targets list.
If you used one account to create the current hosted zone and one or more different accounts to create all of your load balancers, the Alias Targets list shows No Targets Available under Elastic Load Balancers.
In either case, the console prepends dualstack. to the DNS name. When a client, such as a web browser, requests the IP address for your domain name (example.com) or subdomain name (www.example.com), the client can request an IPv4 address (an A record), an IPv6 address (a AAAA record), or both IPv4 and IPv6 addresses (in separate requests). The dualstack. designation allows Route 53 to respond with the appropriate IP address for your load balancer based on which IP address format the client requested.
AWS Global Accelerator accelerators
For AWS Global Accelerator accelerators, enter the DNS name for the accelerator. You can enter the DNS name of an accelerator that you created using the current AWS account or using a different AWS account. 
Amazon S3 Buckets
For Amazon S3 buckets that are configured as website endpoints, do one of the following:
 If you used the same account to create your Route 53 hosted zone and your Amazon S3 bucket – Choose Alias Target and choose a bucket from the list. If you have a lot of buckets, you can enter the first few characters of the DNS name to filter the list.
The value of Alias Target changes to the Amazon S3 website endpoint for your bucket.
 If you used different accounts to create your Route 53 hosted zone and your Amazon S3 bucket – Enter the name of the region that you created your S3 bucket in. Use the value that appears in the Website Endpoint column in the table Amazon S3 website endpoints in the Amazon Web Services General Reference.
If you used AWS accounts other than the current account to create your Amazon S3 buckets, the bucket won't appear in the Alias Targets list.
You must configure the bucket for website hosting. For more information, see Configure a bucket for website hosting in the Amazon Simple Storage Service Developer Guide.
The name of the record must match the name of your Amazon S3 bucket. For example, if the name of your Amazon S3 bucket is acme.example.com, the name of this record must also be acme.example.com.
In a group of weighted alias, latency alias, failover alias, or geolocation alias records, you can create only one record that routes queries to an Amazon S3 bucket because the name of the record must match the name of the bucket and bucket names must be globally unique.
Amazon VPC interface endpoints
For Amazon VPC interface endpoints, do one of the following:
 If you used the same account to create your Route 53 hosted zone and your interface endpoint – Choose Alias Target, and then choose an interface endpoint from the list. If you have a lot of interface endpoints, you can enter the first few characters of the DNS hostname to filter the list.
 If you used different accounts to create your Route 53 hosted zone and your interface endpoint – Enter the DNS hostname for the interface endpoint, such as vpce-123456789abcdef01-example-us-east-1a.elasticloadbalancing.us-east-1.vpce.amazonaws.com.
If you used one AWS account to create the current hosted zone and a different account to create an interface endpoint, the interface endpoint won't appear in the Alias Targets list under VPC Endpoints.
If you used one account to create the current hosted zone and one or more different accounts to create all of your interface endpoints, the Alias Targets list shows No Targets Available under VPC Endpoints.
Records in this Hosted Zone
For records in this hosted zone, choose Alias Target and choose the applicable record. If you have a lot of records, you can enter the first few characters of the name to filter the list.
If the hosted zone contains only the default NS and SOA records, the Alias Targets list shows No Targets Available.
If you're creating an alias record that has the same name as the hosted zone (known as the zone apex), you can't choose a record for which the value of Type is CNAME. This is because the alias record must have the same type as the record you're routing traffic to, and creating a CNAME record for the zone apex isn't supported even for an alias record. 
Alias hosted zone ID
This value appears automatically based on the value that you selected or entered for Alias Target.
Routing policy
Select Failover. 
Failover record type
Choose the applicable value for this record. For failover to function correctly, you must create one primary and one secondary failover record.
You can't create non-failover records that have the same values for Name and Type as failover records.
Set ID
Enter a value that uniquely identifies the primary and secondary records. 
Evaluate target health
Select Yes if you want Route 53 to determine whether to respond to DNS queries using this record by checking the health of the resource specified by Alias Target. 
Note the following:
API Gateway custom regional APIs and edge-optimized APIs
There are no special requirements for setting Evaluate Target Health to Yes when the alias target is an API Gateway custom regional API or an edge-optimized API.
CloudFront distributions
You can't set Evaluate Target Health to Yes when the alias target is a CloudFront distribution.
Elastic Beanstalk environments that have regionalized subdomains
If you specify an Elastic Beanstalk environment in Alias Target and the environment contains an ELB load balancer, Elastic Load Balancing routes queries only to the healthy Amazon EC2 instances that are registered with the load balancer. (An environment automatically contains an ELB load balancer if it includes more than one Amazon EC2 instance.) If you set Evaluate Target Health to Yes and either no Amazon EC2 instances are healthy or the load balancer itself is unhealthy, Route 53 routes queries to other available resources that are healthy, if any. 
If the environment contains a single Amazon EC2 instance, there are no special requirements.
ELB load balancers
Health checking behavior depends on the type of load balancer:
 Classic Load Balancers – If you specify an ELB Classic Load Balancer in Alias Target, Elastic Load Balancing routes queries only to the healthy Amazon EC2 instances that are registered with the load balancer. If you set Evaluate Target Health to Yes and either no EC2 instances are healthy or the load balancer itself is unhealthy, Route 53 routes queries to other resources.
 Application and Network Load Balancers – If you specify an ELB Application or Network Load Balancer and you set Evaluate Target Health to Yes, Route 53 routes queries to the load balancer based on the health of the target groups that are associated with the load balancer:
   For an Application or Network Load Balancer to be considered healthy, every target group that contains targets must contain at least one healthy target. If any target group contains only unhealthy targets, the load balancer is considered unhealthy, and Route 53 routes queries to other resources.
   A target group that has no registered targets is considered unhealthy.
When you create a load balancer, you configure settings for Elastic Load Balancing health checks; they're not Route 53 health checks, but they perform a similar function. Do not create Route 53 health checks for the EC2 instances that you register with an ELB load balancer. 
S3 buckets
There are no special requirements for setting Evaluate Target Health to Yes when the alias target is an S3 bucket.
Amazon VPC interface endpoints
There are no special requirements for setting Evaluate Target Health to Yes when the alias target is an Amazon VPC interface endpoint.
Other records in the same hosted zone
If the AWS resource that you specify in Alias Target is a record or a group of records (for example, a group of weighted records) but is not another alias record, we recommend that you associate a health check with all of the records in the alias target. For more information, see What happens when you omit health checks?.
Associate with health Check/Health check to associate
Select Yes if you want Route 53 to check the health of a specified endpoint and to respond to DNS queries using this record only when the endpoint is healthy. Then select the health check that you want Route 53 to perform for this record. 
Route 53 doesn't check the health of the endpoint specified in the record, for example, the endpoint specified by the IP address in the Value field. When you select a health check for a record, Route 53 checks the health of the endpoint that you specified in the health check. For information about how Route 53 determines whether an endpoint is healthy, see How Amazon Route 53 determines whether a health check is healthyHow Route 53 determines whether a health check is healthy.
Associating a health check with a record is useful only when Route 53 is choosing between two or more records to respond to a DNS query, and you want Route 53 to base the choice in part on the status of a health check. Use health checks only in the following configurations:
 You're checking the health of all of the records in a group of records that have the same name, type, and routing policy (such as failover or weighted records), and you specify health check IDs for all the records. If the health check for a record specifies an endpoint that is not healthy, Route 53 stops responding to queries using the value for that record.
 You select Yes for Evaluate Target Health for an alias record or the records in a group of failover alias, geolocation alias, latency alias, or weighted alias record. If the alias records reference non-alias records in the same hosted zone, you must also specify health checks for the referenced records. 
If your health checks specify the endpoint only by domain name, we recommend that you create a separate health check for each endpoint. For example, create a health check for each HTTP server that is serving content for www.example.com. For the value of Domain Name, specify the domain name of the server (such as us-east-2-www.example.com), not the name of the records (example.com).
Important
In this configuration, if you create a health check for which the value of Domain Name matches the name of the records and then associate the health check with those records, health check results will be unpredictable.